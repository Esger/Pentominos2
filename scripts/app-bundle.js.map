{"version":3,"sources":["app.js","environment.js","main.js","components/board.js","components/controls.js","components/header.js","components/menu.js","components/pentominos.js","components/solving.js","data/colors.js","data/pentominos.js","data/start-beam.js","data/start-dozen.js","data/start-rectangle.js","data/start-square.js","data/start-stick.js","data/start-twig.js","resources/index.js","services/board-service.js","services/data-service.js","services/drag-service.js","services/pentomino-service.js","services/permutation-service.js","services/setting-service.js","services/solution-service.js","services/solver-service.js","resources/value-converters/onboard-pentominos-value-converter.js","resources/value-converters/part-pos-value-converter.js","resources/value-converters/pento-face-value-converter.js","resources/value-converters/pento-pos-value-converter.js"],"names":["App","dragService","ds","debug","testing","configure","Promise","config","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","BoardCustomElement","boardService","bs","getBoardSizeCSS","shape","boardType","boardTypes","css","width","w","partSize","height","h","getBoardClasses","newSolution","classes","solvedClass","push","join","ControlsCustomElement","bindingSignaler","settingService","pentominoService","solutionService","bnds","ss","ps","sls","pentominoCount","pentominosLength","solutionCount","solutions","length","getIndicatorClass","solved","getIndicatorText","currentSolution","current","text","showSolutions","count","showSolution","pentominos","solutionString","splitString","substr","split","i","pentomino","props","face","parseInt","position","x","y","signal","registerPieces","unsetNewSolution","showButton","disableNextButton","disablePreviousButton","showFirstSolution","showPreviousSolution","showNextSolution","HeaderCustomElement","title","getHeaderSizeCss","MenuCustomElement","permutationService","solverService","prms","slvs","Object","keys","settings","menuVisible","submenuBoardsVisible","rotateBoard","flipBoardYAxis","showTheMenu","mixBoard","hideTheMenu","showThisBoard","key","threshold","toggleSubmenuBoards","getBoardDimensions","getActiveBoardClass","screenIsLargeEnough","clw","document","querySelectorAll","clientWidth","clh","clientHeight","getStartPosition","unsetSolved","autoSolve","setTimeout","PentominosCustomElement","getPentominoClasses","name","active","getPartClasses","partIndex","flipH","index","dimensions","flipV","type","attached","SolvingCustomElement","continue","nextPiece","colors","squareStart","BoardService","surface","setSolved","setNewSolution","setBoardType","getWidth","getHeight","blockCount","boardsCount","k","hasOwnProperty","onBoard","touchesBoard","isTouching","faces","part","DataService","client","getPentominos","fileName","get","data","response","JSON","parse","getColors","boardShape","getSolutions","convert","convertedSolutions","shift","j","localStorage","getItem","setItem","stringify","removeItem","saveSolution","DragService","dragStartPos","dragEndPos","getClientPos","event","clientX","touches","clientY","scale","startDrag","container","clientPos","setCurrentPentomino","registerPiece","target","offsetParent","style","zIndex","startX","offsetLeft","startY","offsetTop","doDrag","currentPentomino","left","top","stopDrag","alignToGrid","isDragged","activePart","adjustPosition","flipRotate","isSolved","releasePentomino","resetCurrentPentomino","newX","Math","round","newY","alignCurrentPentomino","abs","PentominoService","taskQueue","dataService","ts","fields","boardIsFull","partRelPosition","partAbsPosition","partToBottom","partToRight","onOff","partsCount","setBoardFields","adjustDimensions","content","getPentominoData","getPentominoColors","color","setFace","initialDimensions","slice","reverse","setShowSolutions","PermutationService","rotable","undefined","rotateSquareBoard","origin","shiftPieces","dx","dy","theLength","floor","maxX","maxY","offsetX","offsetY","xPos","random","yPos","SettingService","opaqueBlocks","getScale","screenWidth","boardWidth","min","SolutionService","solutionResult","isNewSolution","isNaN","rotations","solution2String","foundSolStr","flip","rotation","pentomino2string","parts","SolverService","pentominosOnBoard","positionsTried","startPositionsXblock","nextXblockPosition","boardHeight","movePentomino","findNextFit","console","log","firstEmpty","findFirstEmpty","hasHole","isHole","isFitting","stashPentomino","logBoard","clear","table","copyBoardFields","xy","self","holeSize","minHoleSize","label","board","countDown","countLeft","countRight","sum","setPosition","shiftLeft","newPosition","xShift","findFirstPartRight","offsetRight","onboardPentominosValueConverter","toView","array","PartPosValueConverter","PentoFaceValueConverter","PentoPosValueConverter","backgroundColor"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { DragService } from './services/drag-service';\n\n@inject(DragService)\n\nexport class App {\n    constructor(dragService) {\n        this.ds = dragService;\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\n\n@inject(BoardService)\n\nexport class BoardCustomElement {\n\n    constructor(boardService) {\n        this.bs = boardService;\n    }\n\n    getBoardSizeCSS(shape) {\n        let boardType = this.bs.boardTypes[shape];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n            height: boardType.h * this.bs.partSize + 'px'\n        }\n        return css;\n    }\n\n    getBoardClasses(newSolution) {\n        let classes = ['board'];\n        let solvedClass = (newSolution) ? 'solved' : '';\n        classes.push(solvedClass);\n        return classes.join(' ');\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { BoardService } from '../services/board-service';\nimport { SettingService } from '../services/setting-service';\nimport { PentominoService } from '../services/pentomino-service';\nimport { SolutionService } from '../services/solution-service';\n\n@inject(BindingSignaler, BoardService, SettingService, PentominoService, SolutionService)\n\nexport class ControlsCustomElement {\n\n    constructor(bindingSignaler, boardService, settingService, pentominoService, solutionService) {\n        this.bnds = bindingSignaler;\n        this.bs = boardService;\n        this.ss = settingService;\n        this.ps = pentominoService;\n        this.sls = solutionService;\n        this.pentominoCount = this.bs.pentominosLength();\n        this.solutionCount = this.sls.solutions[this.sls.boardType].length;\n    }\n\n    getIndicatorClass() {\n        let classes = ['indicator', 'rounded'];\n        let solvedClass = (this.bs.solved && !this.bs.newSolution) ? 'solved' : '';\n        classes.push(solvedClass);\n        return classes.join(' ');\n    }\n\n    getIndicatorText(currentSolution, solutionCount) {\n        let current = (currentSolution >= 0) ? 'Solution&nbsp;&nbsp;' + (currentSolution + 1) + ' / ' : 'Solutions: ';\n        let text = current + solutionCount;\n        return text;\n    }\n\n    showSolutions(count) {\n        return count > 0;\n    }\n\n    showSolution() {\n        let pentominos = this.ps.pentominos;\n        let solutionString = this.sls.solutions[this.bs.boardType][this.sls.currentSolution];\n        let splitString = solutionString.substr(1).split('#');\n        for (let i = 0; i < splitString.length; i++) {\n            let pentomino = this.ps.pentominos[i];\n            let props = splitString[i].split('_')\n            pentomino.face = parseInt(props[1], 10);\n            pentomino.position.x = parseInt(props[2], 10);\n            pentomino.position.y = parseInt(props[3], 10);\n        }\n        this.bnds.signal('position-signal');\n        this.ps.registerPieces();\n        this.bs.unsetNewSolution();\n    };\n\n    showButton() {\n        return (this.solutionCount > 0);\n    }\n\n    disableNextButton(current, count) {\n        return (current + 1 == count);\n    }\n\n    disablePreviousButton(current) {\n        return (current == 0);\n    }\n\n    showFirstSolution() {\n        this.sls.currentSolution = 0;\n        this.showSolution();\n    }\n\n    showPreviousSolution() {\n        if (this.sls.currentSolution > 0) {\n            this.sls.currentSolution--;\n            this.showSolution();\n        }\n    };\n\n    showNextSolution() {\n        if (!this.disableNextButton(this.sls.currentSolution, this.sls.solutions[this.bs.boardType].length)) {\n            this.sls.currentSolution++;\n            this.showSolution();\n        }\n    };\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\n\n@inject(BoardService)\nexport class HeaderCustomElement {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.title = 'Pentomino';\n    }\n\n    getHeaderSizeCss(shape) {\n        let boardType = this.bs.boardTypes[shape];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n        }\n        return css;\n    }\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { BoardService } from '../services/board-service';\nimport { SolutionService } from '../services/solution-service';\nimport { PentominoService } from '../services/pentomino-service';\nimport { PermutationService } from '../services/permutation-service';\nimport { SolverService } from '../services/solver-service';\n\n@inject(BindingSignaler, BoardService, SolutionService, PentominoService, PermutationService, SolverService)\n\nexport class MenuCustomElement {\n\n    constructor(bindingSignaler, boardService, solutionService, pentominoService, permutationService, solverService) {\n        this.bnds = bindingSignaler;\n        this.bs = boardService;\n        this.sls = solutionService;\n        this.ps = pentominoService;\n        this.prms = permutationService;\n        this.slvs = solverService;\n        this.boardTypes = Object.keys(this.bs.boardTypes);\n        this.settings = {\n            menuVisible: false,\n            submenuBoardsVisible: false\n        };\n    }\n\n    rotateBoard() {\n        this.prms.rotateBoard(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal')\n    }\n\n    flipBoardYAxis() {\n        this.prms.flipBoardYAxis(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal')\n    }\n\n    showTheMenu() {\n        this.settings.menuVisible = true;\n        this.settings.submenuBoardsVisible = false;\n    };\n\n    mixBoard() {\n        this.prms.mixBoard(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal')\n    }\n\n    hideTheMenu() {\n        this.settings.menuVisible = false;\n    };\n\n    showThisBoard(key) {\n        return true;\n        let threshold = 3;\n        if (this.sls.solutions) {\n            switch (key) {\n                case 'square':\n                    return true;\n                case 'rectangle':\n                    return this.sls.solutions['square'].length > threshold;\n                case 'beam':\n                    return this.sls.solutions['rectangle'].length > threshold;\n                case 'stick':\n                    return this.sls.solutions['beam'].length > threshold;\n                case 'twig':\n                    return this.sls.solutions['stick'].length > threshold;\n                default:\n                    return false;\n            }\n        }\n        return true;\n    };\n\n    toggleSubmenuBoards() {\n        this.settings.submenuBoardsVisible = !this.settings.submenuBoardsVisible;\n        return false;\n    };\n\n    getBoardDimensions(boardType) {\n        let text = ('' + this.bs.boardTypes[boardType].w + '&nbsp;&times;&nbsp;' + this.bs.boardTypes[boardType].h);\n        return text;\n    }\n\n    getActiveBoardClass(boardType) {\n        return (this.bs.boardType == boardType) ? 'active' : '';\n    }\n\n    screenIsLargeEnough() {\n        let clw = document.querySelectorAll('html')[0].clientWidth;\n        let clh = document.querySelectorAll('html')[0].clientHeight;\n        return clw + clh > 1100;\n    };\n\n    getStartPosition(shape) {\n        this.ps.getStartPosition(shape);\n        this.ps.registerPieces();\n        this.bs.unsetSolved();\n        this.bs.unsetNewSolution();\n        this.settings.submenuBoardsVisible = false;\n        this.settings.menuVisible = false;\n    }\n\n    autoSolve() {\n        this.settings.menuVisible = false;\n        setTimeout(() => { this.slvs.autoSolve() });\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { PentominoService } from '../services/pentomino-service';\nimport { SettingService } from '../services/setting-service';\nimport { DragService } from '../services/drag-service';\n\n@inject(PentominoService, SettingService, DragService)\nexport class PentominosCustomElement {\n\n    constructor(pentominoService, settingService, dragService) {\n        this.ps = pentominoService;\n        this.ss = settingService;\n        this.ds = dragService;\n    }\n\n    getPentominoClasses(pentomino) {\n        let classes = ['pentomino'];\n        classes.push('pentomino block_' + pentomino.name);\n        (pentomino.active) && (classes.push('active'));\n        return classes.join(' ');\n    }\n\n    getPartClasses(pentomino, partIndex, face) {\n        let classes = ['fa', 'part'];\n        // C and T blocks don't need mirrorring around symmetric direction\n        let flipH = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] > pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 0);\n        let flipV = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] < pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 1);\n        if (partIndex === 0 && pentomino.type < 5) {\n            classes.push('fa-refresh');\n            classes.push('rotate');\n        }\n        if (partIndex === 1 && pentomino.type < 4 && flipH) {\n            classes.push('fa-arrows-h');\n            classes.push('flipH');\n        }\n        if (partIndex === 2 && pentomino.type < 4 && flipV) {\n            classes.push('fa-arrows-v');\n            classes.push('flipV');\n        }\n        return classes.join(' ');\n    }\n\n    attached() {\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { SolverService } from '../services/solver-service';\n\n@inject(SolverService)\nexport class SolvingCustomElement {\n\n    constructor(solverService) {\n        this.slvs = solverService;\n    }\n\n    continue() {\n        this.slvs.continue();\n    }\n\n    nextPiece() {\n        this.slvs.nextPiece();\n    }\n}\n","colors = [\n    {\n        \"name\": \"b\",\n        \"color\": \"midnightblue\"\n    }, {\n        \"name\": \"c\",\n        \"color\": \"darkviolet\"\n    }, {\n        \"name\": \"f\",\n        \"color\": \"darkorange\"\n    }, {\n        \"name\": \"i\",\n        \"color\": \"maroon\"\n    }, {\n        \"name\": \"l\",\n        \"color\": \"darkgreen\"\n    }, {\n        \"name\": \"n\",\n        \"color\": \"magenta\"\n    }, {\n        \"name\": \"t\",\n        \"color\": \"limegreen\"\n    }, {\n        \"name\": \"v\",\n        \"color\": \"deepskyblue\"\n    }, {\n        \"name\": \"w\",\n        \"color\": \"teal\"\n    }, {\n        \"name\": \"x\",\n        \"color\": \"red\"\n    }, {\n        \"name\": \"y\",\n        \"color\": \"gold\"\n    }, {\n        \"name\": \"z\",\n        \"color\": \"mediumblue\"\n    }, {\n        \"name\": \"o\",\n        \"color\": \"darkslategray\"\n    }\n];\n","pentominos = [\n    {\n        \"name\": \"b\",\n        \"type\": 0,\n        \"faces\": [\n            [[1, 0], [1, 1], [0, 0], [2, 0], [0, 1]],\n            [[1, 1], [1, 0], [0, 1], [0, 0], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 0], [2, 1]],\n            [[0, 1], [0, 0], [1, 1], [0, 2], [1, 2]],\n            [[1, 0], [1, 1], [0, 0], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 1], [0, 2], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [0, 0], [2, 1]],\n            [[0, 1], [0, 0], [1, 1], [0, 2], [1, 0]]\n        ],\n        \"dimensions\": [3, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"c\",\n        \"type\": 2,\n        \"faces\": [\n            [[1, 0], [0, 1], [0, 0], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 0], [1, 2], [0, 2]],\n            [[1, 1], [0, 0], [0, 1], [2, 1], [2, 0]],\n            [[0, 1], [0, 0], [1, 0], [0, 2], [1, 2]]\n        ],\n        \"dimensions\": [3, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"f\",\n        \"type\": 0,\n        \"faces\": [\n            [[1, 1], [1, 0], [0, 1], [2, 0], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [2, 2]],\n            [[1, 1], [1, 0], [2, 1], [0, 2], [1, 2]],\n            [[1, 1], [1, 2], [0, 1], [0, 0], [2, 1]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [1, 2]],\n            [[1, 1], [1, 2], [0, 1], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 1], [1, 2], [2, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [0, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"i\",\n        \"type\": 4,\n        \"faces\": [\n            [[2, 0], [0, 0], [1, 0], [3, 0], [4, 0]],\n            [[0, 2], [0, 0], [0, 1], [0, 3], [0, 4]]\n        ],\n        \"dimensions\": [5, 1],\n        \"parts\": 5\n    }, {\n        \"name\": \"l\",\n        \"type\": 0,\n        \"faces\": [\n            [[0, 0], [0, 1], [1, 0], [2, 0], [3, 0]],\n            [[1, 0], [1, 1], [0, 0], [1, 2], [1, 3]],\n            [[3, 1], [3, 0], [2, 1], [0, 1], [1, 1]],\n            [[0, 3], [0, 2], [1, 3], [0, 0], [0, 1]],\n            [[3, 0], [3, 1], [2, 0], [0, 0], [1, 0]],\n            [[1, 3], [1, 2], [0, 3], [1, 0], [1, 1]],\n            [[0, 1], [0, 0], [1, 1], [2, 1], [3, 1]],\n            [[0, 0], [0, 1], [1, 0], [0, 2], [0, 3]]\n        ],\n        \"dimensions\": [4, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"n\",\n        \"type\": 0,\n        \"faces\": [\n            [[2, 0], [2, 1], [1, 0], [0, 0], [3, 1]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [0, 3]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [3, 1]],\n            [[0, 1], [0, 2], [1, 1], [1, 0], [0, 3]],\n            [[1, 0], [1, 1], [2, 0], [0, 1], [3, 0]],\n            [[1, 1], [1, 2], [0, 1], [0, 0], [1, 3]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [3, 0]],\n            [[0, 2], [0, 1], [1, 2], [0, 0], [1, 3]]\n        ],\n        \"dimensions\": [4, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"t\",\n        \"type\": 2,\n        \"faces\": [\n            [[1, 0], [1, 1], [0, 0], [2, 0], [1, 2]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [2, 2]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [2, 2]],\n            [[0, 1], [0, 0], [1, 1], [2, 1], [0, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"v\",\n        \"type\": 1,\n        \"faces\": [\n            [[0, 2], [0, 1], [1, 2], [0, 0], [2, 2]],\n            [[0, 0], [0, 1], [1, 0], [0, 2], [2, 0]],\n            [[2, 0], [2, 1], [1, 0], [0, 0], [2, 2]],\n            [[2, 2], [2, 1], [1, 2], [0, 2], [2, 0]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"w\",\n        \"type\": 1,\n        \"faces\": [\n            [[1, 1], [1, 2], [0, 1], [0, 0], [2, 2]],\n            [[1, 1], [1, 0], [0, 1], [0, 2], [2, 0]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [2, 2]],\n            [[1, 1], [1, 2], [2, 1], [0, 2], [2, 0]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"x\",\n        \"type\": 5,\n        \"faces\": [\n            [[1, 0], [0, 1], [1, 1], [2, 1], [1, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"y\",\n        \"type\": 0,\n        \"faces\": [\n            [[0, 1], [0, 0], [1, 1], [0, 2], [0, 3]],\n            [[2, 0], [2, 1], [1, 0], [0, 0], [3, 0]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [1, 3]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [3, 1]],\n            [[1, 1], [1, 0], [0, 1], [1, 2], [1, 3]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [3, 1]],\n            [[0, 2], [0, 1], [1, 2], [0, 0], [0, 3]],\n            [[1, 0], [1, 1], [0, 0], [2, 0], [3, 0]]\n        ],\n        \"dimensions\": [2, 4],\n        \"parts\": 5\n    }, {\n        \"name\": \"z\",\n        \"type\": 3,\n        \"faces\": [\n            [[1, 1], [2, 2], [0, 1], [2, 1], [0, 0]],\n            [[1, 1], [1, 2], [0, 2], [1, 0], [2, 0]],\n            [[1, 1], [0, 2], [0, 1], [2, 0], [2, 1]],\n            [[1, 1], [1, 2], [0, 0], [1, 0], [2, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"o\",\n        \"type\": 5,\n        \"faces\": [\n            [[0, 0], [1, 0], [0, 1], [1, 1]]\n        ],\n        \"dimensions\": [2, 2],\n        \"parts\": 4\n    }\n];\n","[\n    {\n        \"name\": \"b\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"c\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"f\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 3\n        }\n    },\n    {\n        \"name\": \"i\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 9,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"n\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 6\n        }\n    },\n    {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"v\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"w\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"y\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 9,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"z\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 5\n        }\n    }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 3\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 8,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 8,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 5\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 5,\n          \"y\" : 99\n      }\n  }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 7\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 2\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 2\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 6\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 2,\n          \"y\" : 99\n      }\n  }\n]\n","squareStart = [\n    {\n        \"name\": \"b\",\n        \"face\": 7,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"c\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 5\n        }\n    }, {\n        \"name\": \"f\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 1\n        }\n    }, {\n        \"name\": \"i\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 9\n        }\n    }, {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 5,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"n\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 7\n        }\n    }, {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 7\n        }\n    }, {\n        \"name\": \"v\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 3\n        }\n    }, {\n        \"name\": \"w\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 3\n        }\n    }, {\n        \"name\": \"y\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 5\n        }\n    }, {\n        \"name\": \"z\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 4\n        }\n    }, {\n        \"name\": \"o\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 10\n        }\n    }\n];\n","[\n    {\n        \"name\" : \"b\",\n        \"face\" : 7,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"c\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"f\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 1\n        }\n    },{\n        \"name\" : \"i\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 9\n        }\n    },{\n        \"name\" : \"l\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 9,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"n\",\n        \"face\" : 4,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"t\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"v\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"w\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"x\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"y\",\n        \"face\" : 6,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"z\",\n        \"face\" : 3,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 4\n        }\n    },{\n        \"name\" : \"o\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 10\n        }\n    }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 3\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 12,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 9,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 12,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 5\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 9,\n          \"y\" : 99\n      }\n  }\n]\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class BoardService {\n\n    constructor() {\n        this.partSize = 40;\n        this.boardType = 'square';\n        this.boardTypes = {\n            'square': {\n                w: 8,\n                h: 8,\n                surface: 64\n            },\n            'rectangle': {\n                w: 6,\n                h: 10,\n                surface: 60\n            },\n            'dozen': {\n                w: 12,\n                h: 5,\n                surface: 60\n            },\n            'beam': {\n                w: 15,\n                h: 4,\n                surface: 60\n            },\n            'stick': {\n                w: 16,\n                h: 4,\n                surface: 64\n            },\n            'twig': {\n                w: 20,\n                h: 3,\n                surface: 60\n            }\n        };\n        this.solved = false;\n        this.newSolution = false;\n    }\n\n    setSolved() {\n        this.solved = true;\n    }\n\n    unsetSolved() {\n        this.solved = false;\n    }\n\n    setNewSolution() {\n        this.newSolution = true;\n    }\n\n    unsetNewSolution() {\n        this.newSolution = false;\n    }\n\n    setBoardType(shape) {\n        this.boardType = shape;\n    }\n\n    getWidth() {\n        return this.boardTypes[this.boardType].w;\n    }\n\n    getHeight() {\n        return this.boardTypes[this.boardType].h;\n    }\n\n    pentominosLength() {\n        let blockCount = (this.boardType == 'square') ? 13 : 12;\n        return blockCount;\n    }\n\n    boardsCount() {\n        let count = 0;\n        for (let k in this.boardTypes) if (this.boardTypes.hasOwnProperty(k)) count++;\n        return count;\n    }\n\n    onBoard(x, y) {\n        return (x >= 0) && (x < this.getWidth()) && (y >= 0) && (y < this.getHeight());\n    }\n\n    touchesBoard(pentomino) {\n        let isTouching = false;\n        for (let i = 0; i < pentomino.faces[pentomino.face].length; i++) {\n            let part = pentomino.faces[pentomino.face][i]\n            let x = pentomino.position.x + part[0];\n            let y = pentomino.position.y + part[1];\n            if ((x >= 0) && (x <= this.getWidth()) &&\n                (y >= 0) && (y <= this.getHeight())) {\n                isTouching = true;\n                break;\n            }\n        }\n        return isTouching;\n    }\n\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { HttpClient } from 'aurelia-http-client';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class DataService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.client = new HttpClient();\n    }\n\n    getPentominos() {\n        let fileName = './src/data/pentominos.json';\n        return this.client.get(fileName)\n            .then((data) => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getColors() {\n        let fileName = './src/data/colors.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getStartPosition(boardShape) {\n        let fileName = './src/data/start-' + boardShape + '.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getSolutions() {\n        // Convert old solutions\n        let convert = function (solutions) {\n            let convertedSolutions = {};\n            for (let boardType in solutions) {\n                if (solutions.hasOwnProperty(boardType)) {\n                    if (solutions[boardType].length) {\n                        for (let i = 0; i < solutions[boardType].length; i++) {\n                            solutions[boardType][i] = solutions[boardType][i].split('#');\n                            solutions[boardType][i].shift();\n                            for (let j = 0; j < solutions[boardType][i].length; j++) {\n                                solutions[boardType][i][j] = solutions[boardType][i][j].split('');\n                                solutions[boardType][i][j] = solutions[boardType][i][j].join('_')\n                            }\n                            solutions[boardType][i] = '#' + solutions[boardType][i].join('#');\n                        }\n                    }\n                }\n                convertedSolutions[boardType] = solutions[boardType];\n            }\n            return convertedSolutions;\n        };\n\n        let solutions;\n\n        if (localStorage.getItem(\"pentominos2\")) {\n            solutions = JSON.parse(localStorage.getItem(\"pentominos2\"));\n        } else {\n            if (localStorage.getItem(\"pentominos\")) {\n                solutions = JSON.parse(localStorage.getItem(\"pentominos\"));\n                solutions = convert(solutions);\n                localStorage.setItem(\"pentominos2\", JSON.stringify(solutions));\n                localStorage.removeItem(\"pentominos\");\n            } else {\n                solutions = {};\n                let boardTypes = this.bs.boardTypes;\n                for (let type in boardTypes) {\n                    if (boardTypes.hasOwnProperty(type)) {\n                        solutions[type] = [];\n                    }\n                }\n            }\n        }\n        return solutions;\n    }\n\n    saveSolution(solutionString) {\n        let solutions = this.getSolutions(this.bs.boardTypes);\n        solutions[this.bs.boardType].push(solutionString);\n        localStorage.setItem(\"pentominos2\", JSON.stringify(solutions));\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { SettingService } from './setting-service';\nimport { PentominoService } from './pentomino-service';\nimport { PermutationService } from './permutation-service';\n\n@inject(BindingSignaler, SettingService, PentominoService, PermutationService)\n\nexport class DragService {\n\n    constructor(bindingSignaler, settingService, pentominoService, permutationService) {\n        this.bnds = bindingSignaler;\n        this.ss = settingService;\n        this.ps = pentominoService;\n        this.prms = permutationService;\n        this.dragStartPos = {};\n        this.dragEndPos = {};\n    }\n\n    getClientPos(event) {\n        let clientX = (event.touches) ? event.touches[0].clientX : event.clientX;\n        let clientY = (event.touches) ? event.touches[0].clientY : event.clientY;\n        return {\n            x: clientX / this.ss.scale,\n            y: clientY / this.ss.scale\n        };\n    }\n\n    startDrag(pentomino, partIndex, event) {\n        if (this.container == null) {\n            let clientPos = this.getClientPos(event);\n            this.ps.setCurrentPentomino(pentomino, partIndex);\n            this.ps.registerPiece(pentomino, -1);\n            this.container = event.target.offsetParent.offsetParent;\n            this.container.style.zIndex = 100;\n            this.startX = clientPos.x - this.container.offsetLeft;\n            this.startY = clientPos.y - this.container.offsetTop;\n            this.x = clientPos.x - this.startX;\n            this.y = clientPos.y - this.startY;\n            this.dragStartPos.x = this.x;\n            this.dragStartPos.y = this.y;\n        }\n        return false;\n    }\n\n    doDrag(event) {\n        let clientPos = this.getClientPos(event);\n        if (this.ps.currentPentomino) {\n            this.x = clientPos.x - this.startX;\n            this.y = clientPos.y - this.startY;\n            this.container.style.left = this.x + 'px';\n            this.container.style.top = this.y + 'px';\n        }\n    }\n\n    stopDrag(event) {\n        this.dragEndPos.x = this.x;\n        this.dragEndPos.y = this.y;\n        if (this.ps.currentPentomino) {\n            this.alignToGrid();\n            if (!this.isDragged()) {\n                if (((this.ps.currentPentomino.type < 4) &&\n                    (this.ps.currentPentomino.activePart < 3)) ||\n                    ((this.ps.currentPentomino.type == 4) && (this.ps.currentPentomino.activePart < 1))) {\n                    this.ps.adjustPosition();\n                    this.prms.flipRotate(this.ps.currentPentomino);\n                    this.bnds.signal('position-signal');\n                }\n            }\n            this.ps.registerPiece(this.ps.currentPentomino, 1);\n            this.ps.isSolved();\n        }\n        this.releasePentomino();\n    }\n\n    releasePentomino() {\n        if (this.container) {\n            this.container.style.zIndex = '';\n            this.container = null;\n        }\n        this.ps.resetCurrentPentomino();\n    }\n\n    alignToGrid() {\n        let newX = Math.round(this.x / this.ss.partSize);\n        let newY = Math.round(this.y / this.ss.partSize);\n        this.ps.alignCurrentPentomino(newX, newY);\n        this.container.style.left = newX * this.ss.partSize + 'px';\n        this.container.style.top = newY * this.ss.partSize + 'px';\n    }\n\n    isDragged() {\n        return ((Math.abs(this.dragEndPos.x - this.dragStartPos.x) > 19) || (Math.abs(this.dragEndPos.y - this.dragStartPos.y) > 19));\n    }\n}\n","import {\n    TaskQueue,\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { DataService } from './data-service';\nimport { BoardService } from './board-service';\nimport { SolutionService } from './solution-service';\n\n@inject(BindingSignaler, TaskQueue, DataService, BoardService, SolutionService)\nexport class PentominoService {\n\n    constructor(bindingSignaler, taskQueue, dataService, boardService, solutionService) {\n        this.bnds = bindingSignaler;\n        this.ts = taskQueue;\n        this.ds = dataService;\n        this.bs = boardService;\n        this.sls = solutionService;\n        this.pentominos = [];\n        this.fields = [];\n        this.currentPentomino = null;\n        this.start();\n    }\n\n    pentominoCount() {\n        return this.pentominos.length;\n    }\n\n    isSolved() {\n        let boardIsFull = this.boardIsFull();\n        if (boardIsFull) {\n            this.bs.setSolved();\n            this.sls.saveSolution(this.pentominos);\n        } else {\n            this.bs.unsetNewSolution();\n            this.bs.unsetSolved();\n        }\n    }\n\n    boardIsFull() {\n        let h = this.bs.getHeight();\n        let w = this.bs.getWidth();\n        // console.table(this.fields);\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n                if (this.fields[y][x] !== 1) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    setCurrentPentomino(pentomino, index) {\n        this.currentPentomino = pentomino;\n        this.currentPentomino.activePart = index;\n    }\n\n    resetCurrentPentomino() {\n        if (this.currentPentomino) {\n            this.currentPentomino.activePart = null;\n            this.currentPentomino = null;\n        }\n    }\n\n    alignCurrentPentomino(newX, newY) {\n        this.currentPentomino.position.x = newX;\n        this.currentPentomino.position.y = newY;\n    }\n\n    adjustPosition() {\n        let pentomino = this.currentPentomino;\n        let partRelPosition = pentomino.faces[pentomino.face][pentomino.activePart];\n        let partAbsPosition = [\n            pentomino.position.x + partRelPosition[0],\n            pentomino.position.y + partRelPosition[1]\n        ];\n        let partToBottom = pentomino.dimensions[1] - partRelPosition[1] - 1;\n        let partToRight = pentomino.dimensions[0] - partRelPosition[0] - 1;\n        switch (pentomino.activePart) {\n            case 0:\n                pentomino.position.x = partAbsPosition[0] - partToBottom;\n                pentomino.position.y = partAbsPosition[1] - partRelPosition[0];\n                break;\n            case 1:\n                pentomino.position.x = partAbsPosition[0] - partToRight;\n                break;\n            case 2:\n                pentomino.position.y = partAbsPosition[1] - partToBottom;\n                break;\n        }\n    }\n\n    registerPiece(pentomino, onOff) {\n        if (pentomino && pentomino.faces) {\n            // let onBoardParts = 0;\n            let partsCount = pentomino.faces[pentomino.face].length;\n            for (let i = 0; i < partsCount; i++) {\n                let x = pentomino.faces[pentomino.face][i][0] + pentomino.position.x;\n                let y = pentomino.faces[pentomino.face][i][1] + pentomino.position.y;\n                if (this.bs.onBoard(x, y)) {\n                    this.fields[y][x] += onOff;\n                    // onBoardParts += 1;\n                }\n                // pentomino.onBoard = (onBoardParts == partsCount);\n            }\n        }\n    }\n\n    registerPieces() {\n        this.fields = this.setBoardFields(0);\n        for (var i = 0; i < this.pentominos.length; i++) {\n            let pentomino = this.pentominos[i]\n            this.registerPiece(pentomino, 1);\n            this.adjustDimensions(pentomino);\n        }\n    }\n\n    setBoardFields(content) {\n        let w = this.bs.getWidth();\n        let h = this.bs.getHeight();\n        let fields = [];\n        for (let y = 0; y < h; y++) {\n            fields.push([]);\n            for (let x = 0; x < w; x++) {\n                fields[y].push(content);\n            }\n        }\n        return fields;\n    }\n\n    start() {\n        this.getPentominoData().then((response) => {\n            this.pentominos = response;\n            this.getPentominoColors().then(() => {\n                this.getStartPosition(this.bs.boardType).then(() => {\n                    this.registerPieces();\n                    this.solved = false;\n                });\n            });\n        });\n    }\n\n    getPentominoData() {\n        return this.ds.getPentominos().then((response) => {\n            return response;\n        });\n    }\n\n    getPentominoColors() {\n        // let self = this;\n        return this.ds.getColors().then((response) => {\n            for (let i = 0; i < this.pentominos.length; i++) {\n                this.pentominos[i].color = response[i].color;\n            }\n        });\n    }\n\n    setFace(pentomino, face) {\n        pentomino.face = face;\n        this.adjustDimensions(pentomino);\n    }\n\n    adjustDimensions(pentomino) {\n        if (pentomino && pentomino.initialDimensions) {\n            pentomino.dimensions = pentomino.initialDimensions.slice();\n        }\n        if (pentomino && pentomino.face % 2 == 1) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    getStartPosition(shape) {\n        return this.ds.getStartPosition(shape).then((response) => {\n            this.bs.boardType = shape;\n            this.sls.currentSolution = -1;\n            this.sls.setShowSolutions();\n            for (let i = 0; i < this.pentominos.length; i++) {\n                let pentomino = this.pentominos[i];\n                pentomino.face = response[i].face;\n                pentomino.position = response[i].position;\n                pentomino.active = false;\n                pentomino.index = i;\n                if (!pentomino.initialDimensions) {\n                    pentomino.initialDimensions = pentomino.dimensions.slice();\n                } else {\n                    pentomino.dimensions = pentomino.initialDimensions.slice();\n                }\n                if (pentomino.face % 2 == 1) {\n                    pentomino.dimensions.reverse();\n                }\n            }\n            this.registerPieces();\n        });\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class PermutationService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.rotable = [\n            [ // rotate\n                [1, 2, 3, 0, 5, 6, 7, 4], // blyfn\n                [1, 2, 3, 0], // vw\n                [1, 2, 3, 0], // tu\n                [1, 0, 3, 2], // z\n                [1, 0], // i\n                [0] // xo not necessary\n            ],\n            [ // flip around yAxis\n                [4, 7, 6, 5, 0, 3, 2, 1], // blyfn\n                [3, 2, 1, 0], // vw\n                [0, 3, 2, 1], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ],\n            [ // flip around xAxis\n                [6, 5, 4, 7, 2, 1, 0, 3], // blyfn\n                [1, 0, 3, 2], // vw\n                [2, 1, 0, 3], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ]\n        ];\n    }\n\n    // Returns the new face index for a given face, action and blocktype\n    flipRotate(pentomino, part) {\n        if (part == undefined) { part = pentomino.activePart };\n        pentomino.face = this.rotable[part][pentomino.type][pentomino.face];\n        // switch the dimensions if pentomino is rotated;\n        if (part === 0) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    flipBoardYAxis(pentominos) {\n        let pentomino;\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            this.flipRotate(pentomino, 1);\n            pentomino.position.x = this.bs.getWidth() - pentomino.position.x - pentomino.dimensions[0];\n        }\n    }\n\n    // 90° clockwise rotation\n    rotateSquareBoard(pentominos) {\n        let pentomino;\n        let origin = {};\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            // bottom left of current rectangle occupied by pentomino\n            origin.x = pentomino.position.x;\n            origin.y = pentomino.position.y + pentomino.dimensions[1];\n            // rotated position on board\n            pentomino.position.x = this.bs.getWidth() - origin.y;\n            pentomino.position.y = origin.x;\n            // rotated pentomino\n            this.flipRotate(pentomino, 0);\n        }\n    }\n\n    shiftPieces(pentominos, dx, dy) {\n        for (let i = 0; i < pentominos.length; i++) {\n            pentominos[i].position.x += dx;\n            pentominos[i].position.y += dy;\n        }\n    }\n\n    rotateBoard(pentominos) {\n        if (this.bs.boardType == 'square') {\n            this.rotateSquareBoard(pentominos);\n        } else {\n            // rotate twice and shift pentominos 4 positions down\n            for (let i = 0; i < 2; i++) this.rotateSquareBoard(pentominos);\n            this.shiftPieces(pentominos, 0, 4);\n        }\n    }\n\n    mixBoard(pentominos) {\n        let theLength = this.bs.pentominosLength();\n        let clw = Math.floor(document.querySelectorAll('.dragArea')[0].clientWidth / this.bs.partSize);\n        let clh = Math.floor(document.querySelectorAll('.dragArea')[0].clientHeight / this.bs.partSize);\n        let maxX = clw - 4;\n        let maxY = clh - 4;\n        // offset values in positions\n        let offsetX = Math.floor((clw - this.bs.getWidth()) / 2);\n        let offsetY = Math.floor((clh - this.bs.getHeight()) / 2);\n\n        for (let i = 0; i < theLength; i++) {\n            let pentomino = pentominos[i];\n            // find random off board position\n            do {\n                let xPos = Math.floor(Math.random() * maxX);\n                xPos -= offsetX;\n                let yPos = Math.floor(Math.random() * maxY);\n\n                pentomino.position.x = xPos;\n                pentomino.position.y = yPos;\n            } while (this.bs.touchesBoard(pentomino));\n\n            let face = Math.floor(Math.random() * pentomino.faces.length);\n            pentomino.face = face;\n        }\n    }\n\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class SettingService {\n\n    constructor() {\n        this.opaqueBlocks = true;\n        this.showSolutions = false;\n        this.scale = 1;\n        this.partSize = 40;\n        this.opaqueBlocks = false;\n    }\n\n    getScale() {\n        let screenWidth = document.querySelectorAll(\"html\")[0].clientWidth;\n        let boardWidth = document.querySelectorAll(\".board\")[0].clientWidth;\n        let scale = Math.min(screenWidth / boardWidth, 1);\n        scale = Math.floor(scale * 10) / 10;\n        this.scale = scale;\n        return {\n            'transformOrigin': 'top',\n            '-webkit-transform': 'scale(' + scale + ', ' + scale + ')',\n            '-ms-transform': 'scale(' + scale + ', ' + scale + ')',\n            'transform': 'scale(' + scale + ', ' + scale + ')'\n        };\n    };\n\n    setShowSolutions() {\n        this.showSolutions = true;\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\nimport { PermutationService } from './permutation-service';\nimport { DataService } from './data-service';\nimport { SettingService } from '../services/setting-service';\n\n@inject(BoardService, PermutationService, DataService, SettingService)\n\nexport class SolutionService {\n\n    constructor(boardService, permutationService, dataService, settingService) {\n        this.bs = boardService;\n        this.ds = dataService;\n        this.ss = settingService;\n        this.prms = permutationService;\n        this.boardType = this.bs.boardType;\n        this.currentSolution = -1;\n        this.getSolutions();\n    }\n\n    getSolutions() {\n        this.solutions = this.ds.getSolutions();\n        this.setShowSolutions();\n    }\n\n    setShowSolutions() {\n        this.currentSolution = -1;\n        if (this.solutions[this.bs.boardType].length > 0) {\n            this.ss.setShowSolutions();\n        }\n    }\n\n    saveSolution(pentominos) {\n        let solutionResult = this.isNewSolution(pentominos);\n        // A number indicates an existing solution\n        // A string indicate a new solution\n        if (!isNaN(solutionResult)) {\n            // show this solution\n            this.currentSolution = solutionResult;\n            this.bs.unsetNewSolution();\n        } else {\n            this.ds.saveSolution(solutionResult);\n            this.solutions[this.boardType].push(solutionResult);\n            this.currentSolution = this.solutions[this.boardType].length - 1;\n            this.bs.setNewSolution();\n        }\n    }\n\n    isNewSolution(pentominos) {\n        let isNewSolution = true;\n        let rotations = (this.boardType == 'square') ? 4 : 2;\n        let solutionString = this.solution2String(pentominos);\n        let foundSolStr = solutionString;\n        let theLength = this.solutions[this.boardType].length;\n\n        // Mirror\n        for (let flip = 0; flip < 2; flip++) {\n            // Rotate\n            for (let rotation = 0; rotation < rotations; rotation++) {\n                // Existing solutions\n                for (let i = 0; i < theLength; i++) {\n                    solutionString = this.solution2String(pentominos);\n                    isNewSolution = isNewSolution && (this.solutions[this.bs.boardType][i] !== solutionString);\n                    if (!isNewSolution) return i;\n                }\n                // Return to original position the last time\n                this.prms.rotateBoard(pentominos);\n            }\n            this.prms.flipBoardYAxis(pentominos);\n        }\n        return foundSolStr;\n    }\n\n    solution2String(pentominos) {\n        let solutionString = \"\";\n        let theLength = this.bs.pentominosLength();\n        for (let i = 0; i < theLength; i++) {\n            solutionString += this.pentomino2string(pentominos[i]);\n        }\n        return solutionString;\n    }\n\n    pentomino2string(pentomino) {\n        let parts = [];\n        if (pentomino) {\n            parts.push('#' + pentomino.name);\n            parts.push(pentomino.face);\n            parts.push(pentomino.position.x);\n            parts.push(pentomino.position.y);\n            return parts.join('_');\n        }\n    }\n\n}","import {\n    TaskQueue,\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { DataService } from './data-service';\nimport { BoardService } from './board-service';\nimport { PentominoService } from './pentomino-service';\nimport { SolutionService } from './solution-service';\nimport { PermutationService } from '../services/permutation-service';\n\n@inject(BindingSignaler, TaskQueue, DataService, BoardService, PentominoService, SolutionService, PermutationService)\nexport class SolverService {\n\n    constructor(bindingSignaler, taskQueue, dataService, boardService, pentominoService, solutionService, permutationService) {\n        this.bnds = bindingSignaler;\n        this.ts = taskQueue;\n        this.ds = dataService;\n        this.bs = boardService;\n        this.ps = pentominoService;\n        this.sls = solutionService;\n        this.prms = permutationService;\n        this.pentominos = this.ps.pentominos;\n        this.continue = false;\n\n        this.pentominoCount = this.bs.pentominosLength();\n        this.pentominosOnBoard = 0;\n        this.positionsTried = 0;\n        this.startPositionsXblock = {\n            'square': [\n                [1, 0],\n                [1, 1],\n                [2, 0],\n                [2, 1],\n                [2, 2]\n            ],\n            'rectangle': [\n                [1, 0],\n                [0, 1],\n                [1, 1],\n                [0, 2],\n                [1, 2],\n                [0, 3],\n                [1, 3]\n            ],\n            'dozen': [\n            ],\n            'beam': [\n            ],\n            'stick': [\n            ],\n            'twig': [\n                [1, 0],\n                [6, 0]\n            ],\n        };\n    }\n\n    nextPiece() {\n        if (this.pentominosOnBoard == 0) {\n            nextXblockPosition();\n        } else {\n\n        }\n    }\n\n    autoSolve() {\n        this.boardWidth = this.bs.getWidth();\n        this.boardHeight = this.bs.getHeight();\n        this.pentominoCount = this.bs.pentominosLength();\n\n        this.prms.shiftPieces(this.pentominos, 10, 0);\n        this.ps.registerPieces();\n        let pentomino = this.pentominos[9];\n        for (let i = 0; i < this.startPositionsXblock[this.bs.boardType].length; i++) {\n            // this.ts.queueTask(() => {\n            this.movePentomino(pentomino, 0, this.startPositionsXblock[this.bs.boardType][i]);\n            pentomino.onBoard = true;\n            this.bnds.signal('position-signal');\n            this.findNextFit();\n            console.log(this.positionsTried);\n            // });\n        }\n        // console.table(this.fields);\n\n    }\n\n    findNextFit() {\n        let firstEmpty = this.findFirstEmpty();\n        let hasHole = this.isHole(firstEmpty);\n        if (!hasHole) {\n            for (let i = 0; i < this.pentominoCount; i++) {\n                let pentomino = this.pentominos[i];\n                if (!pentomino.onBoard) {\n                    for (let face = 0; face < pentomino.faces.length; face++) {\n                        this.positionsTried++;\n                        this.movePentomino(pentomino, face, firstEmpty, true);\n                        this.bnds.signal('position-signal');\n                        pentomino.onBoard = true;\n                        // this.logBoard(pentomino);\n                        if (this.isFitting() && !this.ps.isSolved()) {\n                            this.findNextFit();\n                        }\n                    }\n                    // console.log('last', pentomino);\n                    this.stashPentomino(pentomino);\n                }\n            }\n        }\n    }\n\n    logBoard(pentomino) {\n        console.clear();\n        console.table(this.ps.fields);\n        console.log('pentomino:', pentomino, 'positions:', this.positionsTried);\n    }\n\n    findFirstEmpty() {\n        for (let y = 0; y < this.boardHeight; y++) {\n            for (let x = 0; x < this.boardWidth; x++) {\n                if (this.ps.fields[y][x] === 0) return [x, y];\n            }\n        }\n        return false;\n    }\n\n    copyBoardFields() {\n        let fields = [];\n        for (let y = 0; y < this.boardHeight; y++) {\n            fields.push([]);\n            for (let x = 0; x < this.boardWidth; x++) {\n                fields[y].push(this.ps.fields[y][x]);\n            }\n        }\n        return fields;\n    }\n\n    // find out if open region at x,y is large enough for a pentomino by recursion counting\n    // xy has to be the most up left open spot\n    isHole(xy) {\n        let self = this;\n        let holeSize = 0;\n        let minHoleSize = (this.pentominos[12].onBoard || this.boardType === 'rectangle') ? 5 : 4;\n        let label = 'a';\n        let board = this.copyBoardFields();\n        // let x = xy[0];\n        let y = xy[1];\n\n        function countDown(xy) {\n            let y = xy[1];\n            while ((y < self.boardHeight) && (board[y][xy[0]] === 0) && (holeSize < minHoleSize)) {\n                board[y][xy[0]] = label;\n                holeSize++;\n                // console.table(board);\n                countLeft([xy[0] - 1, y]);\n                countRight([xy[0] + 1, y]);\n                y++;\n            }\n        }\n\n        function countRight(xy) {\n            let x = xy[0];\n            while ((x < self.boardWidth) && (board[xy[1]][x] === 0) && (holeSize < minHoleSize)) {\n                board[xy[1]][x] = label;\n                holeSize++;\n                // console.table(board);\n                countDown([x, xy[1] + 1]);\n                x++;\n            }\n        }\n\n        function countLeft(xy) {\n            let x = xy[0];\n            while ((x >= 0) && (board[xy[1]][x] === 0) && (holeSize < minHoleSize)) {\n                board[xy[1]][x] = label;\n                holeSize++;\n                // console.table(board);\n                countDown([x, xy[1] + 1]);\n                x--;\n            }\n        }\n        countRight(xy);\n        return (holeSize < minHoleSize);\n    }\n\n    // Return true if no overlapping pieces and all pieces are completely on the board\n    isFitting() {\n        let sum = 0;\n        for (let y = 0; y < this.ps.fields.length; y++) {\n            for (let x = 0; x < this.ps.fields[y].length; x++) {\n                if (this.ps.fields[y][x] > 1) {\n                    return false;\n                } else {\n                    sum += this.ps.fields[y][x];\n                }\n            }\n        }\n        if (this.pentominos[12].onBoard === true) {\n            return ((sum - 4) % 5 === 0);\n        } else {\n            return (sum % 5 === 0);\n        }\n    }\n\n    stashPentomino(pentomino) {\n        // this.ts.queueMicroTask(() => {\n        this.movePentomino(pentomino, 0, [10, 0], false);\n        pentomino.onBoard = false;\n        // });\n        // this.logBoard();\n    }\n\n    setPosition(pentomino, position) {\n        // this.ts.queueMicroTask(() => {\n        pentomino.position.x = position[0];\n        pentomino.position.y = position[1];\n        // });\n    }\n\n    movePentomino(pentomino, face, position, shiftLeft) {\n        let newPosition;\n        // If left top of pentomino is empty ___|\n        // move pentomino to the left\n        if (shiftLeft && position[0] > 0) {\n            let xShift = this.findFirstPartRight(pentomino);\n            newPosition = [position[0] - xShift, position[1]];\n        } else {\n            newPosition = position;\n        }\n        this.ps.registerPiece(pentomino, -1);\n        this.ps.setFace(pentomino, face);\n        this.setPosition(pentomino, newPosition);\n        this.ps.registerPiece(pentomino, 1);\n        // console.table($scope.board.fields);\n    }\n\n    findFirstPartRight(pentomino) {\n        let offsetRight = pentomino.dimensions[0];\n        let part = pentomino.faces[pentomino.face][0];\n        for (let j = 0; j < pentomino.faces[pentomino.face].length; j++) {\n            part = pentomino.faces[pentomino.face][j];\n            offsetRight = ((part[1] === 0) && (part[0] < offsetRight)) ? part[0] : offsetRight;\n        }\n        return offsetRight;\n    }\n\n\n}\n","export class onboardPentominosValueConverter {\n    toView(array, config) {\n        array = config.pentominos;\n        return array;\n    }\n}","export class PartPosValueConverter {\n    toView(css, config) {\n        css = {\n            left: config.x * config.partSize + 'px',\n            top: config.y * config.partSize + 'px'\n        }\n        return css;\n    }\n}","export class PentoFaceValueConverter {\n    toView(array, config) {\n        array = config.faces[config.face];\n        return array;\n    }\n}","export class PentoPosValueConverter {\n    toView(css, config) {\n        css = {\n            left: config.x * config.partSize + 'px',\n            top: config.y * config.partSize + 'px',\n            backgroundColor: config.color\n        }\n        return css;\n    }\n}"],"sourceRoot":"../src"}