{"version":3,"sources":["app.js","environment.js","main.js","components/board.js","components/controls.js","components/menu.js","components/pentominos.js","data/colors.js","data/pentominos.js","data/start-beam.js","data/start-dozen.js","data/start-rectangle.js","data/start-square.js","data/start-stick.js","data/start-twig.js","resources/index.js","services/data-service.js","services/pentomino-service.js","components/header.js","services/drag-service.js","services/board-service.js","services/settings-service.js","services/setting-service.js","services/solution-service.js","services/permutation-service.js"],"names":["App","dragService","ds","debug","testing","configure","Promise","config","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","BoardCustomElement","boardService","bs","getBoardSizeCSS","boardType","boardTypes","css","width","w","partSize","height","h","getBoardClasses","classes","solvedClass","solved","push","join","ControlsCustomElement","eventAggregator","ea","addEventListeners","attached","MenuCustomElement","settings","menuVisible","submenuBoardsVisible","opaqueBlocks","showTheMenu","hideTheMenu","showThisBoard","key","threshold","solutions","length","console","log","board","toggleSubmenuBoards","setOpaqueBlocks","setTransparentBlocks","screenIsLargeEnough","clw","document","querySelectorAll","clientWidth","clh","clientHeight","PentominosCustomElement","pentominoService","settingService","ps","ss","getPentominoCSS","x","y","color","left","top","backgroundColor","getPartCSS","part","getPentominoClasses","pentomino","name","active","getPartClasses","partIndex","face","flipH","index","dimensions","flipV","type","$scope","colors","pentominos","squareStart","DataService","client","getPentominos","fileName","get","data","response","JSON","parse","getColors","getStartPosition","boardShape","getSolutions","convert","convertedSolutions","hasOwnProperty","i","split","shift","j","localStorage","getItem","setItem","stringify","removeItem","saveSolution","solutionString","PentominoService","dataService","solutionService","sls","fields","currentPentomino","isSolved","boardIsFull","setSolved","unsetSolved","getHeight","getWidth","table","setCurrentPentomino","activePart","resetCurrentPentomino","alignCurrentPentomino","newX","newY","position","adjustPosition","partRelPosition","faces","partAbsPosition","partToBottom","partToRight","registerPiece","onOff","onBoard","registerPieces","setBoardFields","content","getPentominoData","getPentominoColors","currentSolution","adjustDimensions","initialDimensions","slice","reverse","shape","HeaderCustomElement","title","getHeaderSizeCss","DragService","permutationService","prms","dragStartPos","dragEndPos","getClientPos","event","clientX","touches","clientY","scale","startDrag","clientPos","container","target","offsetParent","style","zIndex","startX","offsetLeft","startY","offsetTop","doDrag","stopDrag","alignToGrid","isDragged","flipRotate","releasePentomino","Math","round","abs","BoardService","surface","setBoardType","pentominosLength","blockCount","boardsCount","count","k","SettingsService","solutionsShown","getScale","screenWidth","boardWidth","min","floor","SettingService","SolutionService","solutionResult","isNewSolution","isNaN","newSolution","rotations","solution2String","foundSolStr","theLength","flip","rotation","rotateBoard","flipBoardYAxis","pentomino2string","parts","PermutationService","rotable","undefined","rotateSquareBoard","origin","shiftPieces","dx","dy"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { DragService } from './services/drag-service';\n\n@inject(DragService)\n\nexport class App {\n    constructor(dragService) {\n        this.ds = dragService;\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\n\n@inject(BoardService)\nexport class BoardCustomElement {\n\n    constructor(boardService) {\n        this.bs = boardService;\n    }\n\n    getBoardSizeCSS() {\n        let boardType = this.bs.boardTypes[this.bs.boardType];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n            height: boardType.h * this.bs.partSize + 'px'\n        }\n        return css;\n    }\n\n    getBoardClasses() {\n        let classes = ['board'];\n        let solvedClass = (this.bs.solved) ? 'solved' : '';\n        classes.push(solvedClass);\n        return classes.join(' ');\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class ControlsCustomElement {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n    }\n\n    addEventListeners() {\n\n    }\n\n    attached() {\n        this.addEventListeners();\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class MenuCustomElement {\n\n    constructor(eventAggregator) {\n        this.ea = eventAggregator;\n        this.settings = {\n            menuVisible: false,\n            submenuBoardsVisible: false,\n            opaqueBlocks: false\n        };\n    }\n\n    showTheMenu() {\n        this.settings.menuVisible = true;\n        this.settings.submenuBoardsVisible = false;\n    };\n\n    hideTheMenu() {\n        this.settings.menuVisible = false;\n    };\n\n    showThisBoard(key) {\n        let threshold = 3;\n        if (this.solutions) {\n            switch (key) {\n                case 'square':\n                    return true;\n                case 'rectangle':\n                    return this.solutions['square'].length > threshold;\n                case 'beam':\n                    return this.solutions['rectangle'].length > threshold;\n                case 'stick':\n                    return this.solutions['beam'].length > threshold;\n                case 'twig':\n                    return this.solutions['stick'].length > threshold;\n                default:\n                    return false;\n            }\n            console.log(this.board.boardTypes[key]);\n        }\n        return true;\n    };\n\n    toggleSubmenuBoards() {\n        this.settings.submenuBoardsVisible = !this.settings.submenuBoardsVisible;\n    };\n    setOpaqueBlocks() {\n        this.settings.opaqueBlocks = true;\n    };\n    setTransparentBlocks() {\n        this.settings.opaqueBlocks = false;\n    };\n    screenIsLargeEnough() {\n        let clw = document.querySelectorAll('html')[0].clientWidth;\n        let clh = document.querySelectorAll('html')[0].clientHeight;\n        return clw + clh > 1100;\n    };\n\n    addEventListeners() {\n\n    }\n\n    attached() {\n        this.addEventListeners();\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { PentominoService } from '../services/pentomino-service';\nimport { SettingService } from '../services/setting-service';\nimport { DragService } from '../services/drag-service';\n\n@inject(PentominoService, SettingService, DragService)\nexport class PentominosCustomElement {\n\n    constructor(pentominoService, settingService, dragService) {\n        this.ps = pentominoService;\n        this.ss = settingService;\n        this.ds = dragService;\n    }\n\n    getPentominoCSS(x, y, color) {\n        let css = {\n            left: x * this.ss.partSize + 'px',\n            top: y * this.ss.partSize + 'px',\n            backgroundColor: color\n        }\n        return css;\n    }\n\n    getPartCSS(part) {\n        let css = {\n            'left': part[0] * this.ss.partSize + 'px',\n            'top': part[1] * this.ss.partSize + 'px'\n        };\n        return css;\n    }\n\n    getPentominoClasses(pentomino) {\n        let classes = ['pentomino'];\n        classes.push('pentomino block_' + pentomino.name);\n        (pentomino.active) && (classes.push('active'));\n        return classes.join(' ');\n    }\n\n    getPartClasses(pentomino, partIndex, face) {\n        let classes = ['fa', 'part'];\n        // C and T blocks don't need mirrorring around symmetric direction\n        let flipH = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] > pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 0);\n        let flipV = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] < pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 1);\n        if (partIndex === 0 && pentomino.type < 5) {\n            classes.push('fa-refresh');\n            classes.push('rotate');\n        }\n        if (partIndex === 1 && pentomino.type < 4 && flipH) {\n            classes.push('fa-arrows-h');\n            classes.push('flipH');\n        }\n        if (partIndex === 2 && pentomino.type < 4 && flipV) {\n            classes.push('fa-arrows-v');\n            classes.push('flipV');\n        }\n        return classes.join(' ');\n    }\n\n}\n","$scope.colors = [\n    {\n        \"name\" : \"b\",\n        \"color\" : \"midnightblue\"\n    },{\n        \"name\" : \"c\",\n        \"color\" : \"darkviolet\"\n    },{\n        \"name\" : \"f\",\n        \"color\" : \"darkorange\"\n    },{\n        \"name\" : \"i\",\n        \"color\" : \"maroon\"\n    },{\n        \"name\" : \"l\",\n        \"color\" : \"darkgreen\"\n    },{\n        \"name\" : \"n\",\n        \"color\" : \"magenta\"\n    },{\n        \"name\" : \"t\",\n        \"color\" : \"limegreen\"\n    },{\n        \"name\" : \"v\",\n        \"color\" : \"deepskyblue\"\n    },{\n        \"name\" : \"w\",\n        \"color\" : \"teal\"\n    },{\n        \"name\" : \"x\",\n        \"color\" : \"red\"\n    },{\n        \"name\" : \"y\",\n        \"color\" : \"gold\"\n    },{\n        \"name\" : \"z\",\n        \"color\" : \"mediumblue\"\n    },{\n        \"name\" : \"o\",\n        \"color\" : \"darkslategray\"\n    }\n];\n","$scope.pentominos = [\n    {\n        \"name\" : \"b\",\n        \"type\" : 0,\n        \"faces\" : [\n            [[1,0],[1,1],[0,0],[2,0],[0,1]],\n            [[1,1],[1,0],[0,1],[0,0],[1,2]],\n            [[1,1],[1,0],[0,1],[2,0],[2,1]],\n            [[0,1],[0,0],[1,1],[0,2],[1,2]],\n            [[1,0],[1,1],[0,0],[2,0],[2,1]],\n            [[1,1],[1,0],[0,1],[0,2],[1,2]],\n            [[1,1],[1,0],[0,1],[0,0],[2,1]],\n            [[0,1],[0,0],[1,1],[0,2],[1,0]]\n        ],\n        \"dimensions\" : [3,2],\n        \"parts\" : 5\n    },{\n        \"name\" : \"c\",\n        \"type\" : 2,\n        \"faces\" : [\n            [[1,0],[0,1],[0,0],[2,0],[2,1]],\n            [[1,1],[1,0],[0,0],[1,2],[0,2]],\n            [[1,1],[0,0],[0,1],[2,1],[2,0]],\n            [[0,1],[0,0],[1,0],[0,2],[1,2]]\n        ],\n        \"dimensions\" : [3,2],\n        \"parts\" : 5\n    },{\n        \"name\" : \"f\",\n        \"type\" : 0,\n        \"faces\" : [\n            [[1,1],[1,0],[0,1],[2,0],[1,2]],\n            [[1,1],[1,0],[0,1],[2,1],[2,2]],\n            [[1,1],[1,0],[2,1],[0,2],[1,2]],\n            [[1,1],[1,2],[0,1],[0,0],[2,1]],\n            [[1,1],[1,0],[2,1],[0,0],[1,2]],\n            [[1,1],[1,2],[0,1],[2,0],[2,1]],\n            [[1,1],[1,0],[0,1],[1,2],[2,2]],\n            [[1,1],[1,0],[0,1],[2,1],[0,2]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"i\",\n        \"type\" : 4,\n        \"faces\" : [\n            [[2,0],[0,0],[1,0],[3,0],[4,0]],\n            [[0,2],[0,0],[0,1],[0,3],[0,4]]\n        ],\n        \"dimensions\" : [5,1],\n        \"parts\" : 5\n    },{\n        \"name\" : \"l\",\n        \"type\" : 0,\n        \"faces\" : [\n            [[0,0],[0,1],[1,0],[2,0],[3,0]],\n            [[1,0],[1,1],[0,0],[1,2],[1,3]],\n            [[3,1],[3,0],[2,1],[0,1],[1,1]],\n            [[0,3],[0,2],[1,3],[0,0],[0,1]],\n            [[3,0],[3,1],[2,0],[0,0],[1,0]],\n            [[1,3],[1,2],[0,3],[1,0],[1,1]],\n            [[0,1],[0,0],[1,1],[2,1],[3,1]],\n            [[0,0],[0,1],[1,0],[0,2],[0,3]]\n        ],\n        \"dimensions\" : [4,2],\n        \"parts\" : 5\n    },{\n        \"name\" : \"n\",\n        \"type\" : 0,\n        \"faces\" : [\n            [[2,0],[2,1],[1,0],[0,0],[3,1]],\n            [[1,2],[1,1],[0,2],[1,0],[0,3]],\n            [[1,1],[1,0],[2,1],[0,0],[3,1]],\n            [[0,1],[0,2],[1,1],[1,0],[0,3]],\n            [[1,0],[1,1],[2,0],[0,1],[3,0]],\n            [[1,1],[1,2],[0,1],[0,0],[1,3]],\n            [[2,1],[2,0],[1,1],[0,1],[3,0]],\n            [[0,2],[0,1],[1,2],[0,0],[1,3]]\n        ],\n        \"dimensions\" : [4,2],\n        \"parts\" : 5\n    },{\n        \"name\" : \"t\",\n        \"type\" : 2,\n        \"faces\" : [\n            [[1,0],[1,1],[0,0],[2,0],[1,2]],\n            [[2,1],[2,0],[1,1],[0,1],[2,2]],\n            [[1,2],[1,1],[0,2],[1,0],[2,2]],\n            [[0,1],[0,0],[1,1],[2,1],[0,2]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"v\",\n        \"type\" : 1,\n        \"faces\" : [\n            [[0,2],[0,1],[1,2],[0,0],[2,2]],\n            [[0,0],[0,1],[1,0],[0,2],[2,0]],\n            [[2,0],[2,1],[1,0],[0,0],[2,2]],\n            [[2,2],[2,1],[1,2],[0,2],[2,0]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"w\",\n        \"type\" : 1,\n        \"faces\" : [\n            [[1,1],[1,2],[0,1],[0,0],[2,2]],\n            [[1,1],[1,0],[0,1],[0,2],[2,0]],\n            [[1,1],[1,0],[2,1],[0,0],[2,2]],\n            [[1,1],[1,2],[2,1],[0,2],[2,0]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"x\",\n        \"type\" : 5,\n        \"faces\" : [\n            [[1,0],[0,1],[1,1],[2,1],[1,2]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"y\",\n        \"type\" : 0,\n        \"faces\" : [\n            [[0,1],[0,0],[1,1],[0,2],[0,3]],\n            [[2,0],[2,1],[1,0],[0,0],[3,0]],\n            [[1,2],[1,1],[0,2],[1,0],[1,3]],\n            [[1,1],[1,0],[0,1],[2,1],[3,1]],\n            [[1,1],[1,0],[0,1],[1,2],[1,3]],\n            [[2,1],[2,0],[1,1],[0,1],[3,1]],\n            [[0,2],[0,1],[1,2],[0,0],[0,3]],\n            [[1,0],[1,1],[0,0],[2,0],[3,0]]\n        ],\n        \"dimensions\" : [2,4],\n        \"parts\" : 5\n    },{\n        \"name\" : \"z\",\n        \"type\" : 3,\n        \"faces\" : [\n            [[1,1],[2,2],[0,1],[2,1],[0,0]],\n            [[1,1],[1,2],[0,2],[1,0],[2,0]],\n            [[1,1],[0,2],[0,1],[2,0],[2,1]],\n            [[1,1],[1,2],[0,0],[1,0],[2,2]]\n        ],\n        \"dimensions\" : [3,3],\n        \"parts\" : 5\n    },{\n        \"name\" : \"o\",\n        \"type\" : 5,\n        \"faces\" : [\n            [[0,0],[1,0],[0,1],[1,1]]\n        ],\n        \"dimensions\" : [2,2],\n        \"parts\" : 4\n    }\n];\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 4,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 3\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 9,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 4,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 4,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 9,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 5\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 6,\n          \"y\" : 99\n      }\n  }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 3\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 8,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 8,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 5\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 5,\n          \"y\" : 99\n      }\n  }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 7\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 2,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 3,\n      \"y\": 2\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 0,\n      \"y\": 2\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 5,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": -1,\n      \"y\": 6\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 2,\n          \"y\" : 99\n      }\n  }\n]\n","$scope.squareStart = [\n    {\n        \"name\" : \"b\",\n        \"face\" : 7,\n        \"position\" : {\n            \"x\" : 1,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"c\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 4,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"f\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 2,\n            \"y\" : 1\n        }\n    },{\n        \"name\" : \"i\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 1,\n            \"y\" : 9\n        }\n    },{\n        \"name\" : \"l\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"n\",\n        \"face\" : 4,\n        \"position\" : {\n            \"x\" : 2,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"t\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 4,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"v\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 1,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"w\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 3,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"x\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 4,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"y\",\n        \"face\" : 6,\n        \"position\" : {\n            \"x\" : 1,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"z\",\n        \"face\" : 3,\n        \"position\" : {\n            \"x\" : 1,\n            \"y\" : 4\n        }\n    },{\n        \"name\" : \"o\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 3,\n            \"y\" : 10\n        }\n    }\n];\n","[\n    {\n        \"name\" : \"b\",\n        \"face\" : 7,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"c\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"f\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 1\n        }\n    },{\n        \"name\" : \"i\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 9\n        }\n    },{\n        \"name\" : \"l\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 9,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"n\",\n        \"face\" : 4,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"t\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"v\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"w\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"x\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"y\",\n        \"face\" : 6,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"z\",\n        \"face\" : 3,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 4\n        }\n    },{\n        \"name\" : \"o\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 10\n        }\n    }\n]\n","[\n  {\n    \"name\": \"b\",\n    \"face\": 4,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"c\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"f\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 3\n    }\n  },\n  {\n    \"name\": \"i\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"l\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 12,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"n\",\n    \"face\": 6,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 6\n    }\n  },\n  {\n    \"name\": \"t\",\n    \"face\": 1,\n    \"position\": {\n      \"x\": 9,\n      \"y\": 4\n    }\n  },\n  {\n    \"name\": \"v\",\n    \"face\": 3,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 5\n    }\n  },\n  {\n    \"name\": \"w\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 10,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"x\",\n    \"face\": 0,\n    \"position\": {\n      \"x\": 7,\n      \"y\": 1\n    }\n  },\n  {\n    \"name\": \"y\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 12,\n      \"y\": 0\n    }\n  },\n  {\n    \"name\": \"z\",\n    \"face\": 2,\n    \"position\": {\n      \"x\": 6,\n      \"y\": 5\n    }\n  },\n  {\n      \"name\" : \"o\",\n      \"face\" : 0,\n      \"position\" : {\n          \"x\" : 9,\n          \"y\" : 99\n      }\n  }\n]\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { HttpClient } from 'aurelia-http-client';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class DataService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.client = new HttpClient();\n    }\n\n    getPentominos() {\n        let fileName = './src/data/pentominos.json';\n        return this.client.get(fileName)\n            .then((data) => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getColors() {\n        let fileName = './src/data/colors.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getStartPosition(boardShape) {\n        let fileName = './src/data/start-' + boardShape + '.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getSolutions() {\n        // Convert old solutions\n        let convert = function (solutions) {\n            let convertedSolutions = {};\n            for (let boardType in solutions) {\n                if (solutions.hasOwnProperty(boardType)) {\n                    if (solutions[boardType].length) {\n                        for (let i = 0; i < solutions[boardType].length; i++) {\n                            solutions[boardType][i] = solutions[boardType][i].split('#');\n                            solutions[boardType][i].shift();\n                            for (let j = 0; j < solutions[boardType][i].length; j++) {\n                                solutions[boardType][i][j] = solutions[boardType][i][j].split('');\n                                solutions[boardType][i][j] = solutions[boardType][i][j].join('_')\n                            }\n                            solutions[boardType][i] = '#' + solutions[boardType][i].join('#');\n                        }\n                    }\n                }\n                convertedSolutions[boardType] = solutions[boardType];\n            }\n            return convertedSolutions;\n        };\n\n        let solutions;\n\n        if (localStorage.getItem(\"pentominos2\")) {\n            solutions = JSON.parse(localStorage.getItem(\"pentominos2\"));\n        } else {\n            if (localStorage.getItem(\"pentominos\")) {\n                solutions = JSON.parse(localStorage.getItem(\"pentominos\"));\n                solutions = convert(solutions);\n                localStorage.setItem(\"pentominos2\", JSON.stringify(solutions));\n                localStorage.removeItem(\"pentominos\");\n            } else {\n                solutions = {};\n                let boardTypes = this.bs.boardTypes;\n                for (let type in boardTypes) {\n                    if (boardTypes.hasOwnProperty(type)) {\n                        // if (!solutions.hasOwnProperty(type)) {\n                        solutions[type] = [];\n                        // }\n                    }\n                }\n            }\n        }\n        return solutions;\n    }\n\n    saveSolution(solutionString) {\n        let solutions = this.getSolutions(this.bs.boardTypes);\n        solutions[this.bs.boardType].push(solutionString);\n        localStorage.setItem(\"pentominos2\", JSON.stringify(solutions));\n        // console.table(solutionString);\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\nimport { DataService } from './data-service';\nimport { BoardService } from './board-service';\nimport { SolutionService } from './solution-service';\n\n@inject(EventAggregator, DataService, BoardService, SolutionService)\nexport class PentominoService {\n\n    constructor(eventAggregator, dataService, boardService, solutionService) {\n        this.ea = eventAggregator;\n        this.ds = dataService;\n        this.bs = boardService;\n        this.sls = solutionService;\n        this.pentominos = [];\n        this.fields = [];\n        this.currentPentomino = null;\n        this.start();\n    }\n\n    isSolved() {\n        let boardIsFull = this.boardIsFull();\n        if (boardIsFull) {\n            this.bs.setSolved();\n            this.sls.saveSolution(this.pentominos);\n        } else {\n            this.bs.unsetSolved();\n        }\n    }\n\n    boardIsFull() {\n        let h = this.bs.getHeight();\n        let w = this.bs.getWidth();\n        console.table(this.fields);\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n                if (this.fields[y][x] !== 1) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    setCurrentPentomino(pentomino, index) {\n        this.currentPentomino = pentomino;\n        this.currentPentomino.activePart = index;\n    }\n\n    resetCurrentPentomino() {\n        if (this.currentPentomino) {\n            this.currentPentomino.activePart = null;\n            this.currentPentomino = null;\n        }\n    }\n\n    alignCurrentPentomino(newX, newY) {\n        this.currentPentomino.position.x = newX;\n        this.currentPentomino.position.y = newY;\n    }\n\n    adjustPosition() {\n        let pentomino = this.currentPentomino;\n        let partRelPosition = pentomino.faces[pentomino.face][pentomino.activePart];\n        let partAbsPosition = [\n            pentomino.position.x + partRelPosition[0],\n            pentomino.position.y + partRelPosition[1]\n        ];\n        let partToBottom = pentomino.dimensions[1] - partRelPosition[1] - 1;\n        let partToRight = pentomino.dimensions[0] - partRelPosition[0] - 1;\n        switch (pentomino.activePart) {\n            case 0:\n                pentomino.position.x = partAbsPosition[0] - partToBottom;\n                pentomino.position.y = partAbsPosition[1] - partRelPosition[0];\n                break;\n            case 1:\n                pentomino.position.x = partAbsPosition[0] - partToRight;\n                break;\n            case 2:\n                pentomino.position.y = partAbsPosition[1] - partToBottom;\n                break;\n        }\n    }\n\n    registerPiece(pentomino, onOff) {\n        // console.log(pentomino.name);\n        if (pentomino && pentomino.faces) {\n            for (let j = 0; j < pentomino.faces[pentomino.face].length; j++) {\n                let x = pentomino.faces[pentomino.face][j][0] + pentomino.position.x;\n                let y = pentomino.faces[pentomino.face][j][1] + pentomino.position.y;\n                if (this.bs.onBoard(x, y)) {\n                    this.fields[y][x] += onOff;\n                }\n            }\n        }\n    }\n\n    registerPieces() {\n        this.solved = false;\n        for (var i = 0; i < this.pentominos.length; i++) {\n            this.registerPiece(this.pentominos[i], 1);\n        }\n    }\n\n    setBoardFields(content) {\n        let w = this.bs.getWidth();\n        let h = this.bs.getHeight();\n        this.fields = [];\n        for (let y = 0; y < h; y++) {\n            this.fields.push([]);\n            for (let x = 0; x < w; x++) {\n                this.fields[y].push(content);\n            }\n        }\n    }\n\n    start() {\n        this.getPentominoData().then((response) => {\n            this.pentominos = response;\n            this.getPentominoColors().then(() => {\n                this.getStartPosition(this.bs.boardType).then(() => {\n                    this.setBoardFields(0);\n                    this.registerPieces();\n                    this.sls.currentSolution = 0;\n                    console.log(this.pentominos);\n                });\n            });\n        });\n    }\n\n    getPentominoData() {\n        return this.ds.getPentominos().then((response) => {\n            return response;\n        });\n    }\n\n    getPentominoColors() {\n        // let self = this;\n        return this.ds.getColors().then((response) => {\n            for (let i = 0; i < this.pentominos.length; i++) {\n                this.pentominos[i].color = response[i].color;\n            }\n        });\n    }\n\n    adjustDimensions(i) {\n        let pentomino = this.pentominos[i];\n        if (pentomino && pentomino.initialDimensions) {\n            pentomino.dimensions = pentomino.initialDimensions.slice();\n        }\n        if (pentomino && pentomino.face % 2 == 1) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    getStartPosition(shape) {\n        return this.ds.getStartPosition(shape).then((response) => {\n            for (let i = 0; i < this.pentominos.length; i++) {\n                let pentomino = this.pentominos[i];\n                pentomino.face = response[i].face;\n                pentomino.position = response[i].position;\n                pentomino.active = false;\n                pentomino.index = i;\n                if (!pentomino.initialDimensions) {\n                    pentomino.initialDimensions = pentomino.dimensions.slice();\n                } else {\n                    pentomino.dimensions = pentomino.initialDimensions.slice();\n                }\n                if (pentomino.face % 2 == 1) {\n                    pentomino.dimensions.reverse();\n                }\n            }\n        });\n    }\n\n    addEventListeners() {\n\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\n\n@inject(BoardService)\nexport class HeaderCustomElement {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.title = 'Pentomino';\n    }\n\n    getHeaderSizeCss() {\n        let boardType = this.bs.boardTypes[this.bs.boardType];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n        }\n        return css;\n    }\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { SettingService } from './setting-service';\nimport { PentominoService } from './pentomino-service';\nimport { PermutationService } from './permutation-service';\n\n@inject(SettingService, PentominoService, PermutationService)\n\nexport class DragService {\n\n    constructor(settingService, pentominoService, permutationService) {\n        this.ss = settingService;\n        this.ps = pentominoService;\n        this.prms = permutationService;\n        this.dragStartPos = {};\n        this.dragEndPos = {};\n    }\n\n    getClientPos(event) {\n        let clientX = (event.touches) ? event.touches[0].clientX : event.clientX;\n        let clientY = (event.touches) ? event.touches[0].clientY : event.clientY;\n        return {\n            x: clientX / this.ss.scale,\n            y: clientY / this.ss.scale\n        };\n    }\n\n    startDrag(pentomino, partIndex, event) {\n        let clientPos = this.getClientPos(event);\n        this.ps.setCurrentPentomino(pentomino, partIndex);\n        this.ps.registerPiece(pentomino, -1);\n        this.container = event.target.offsetParent.offsetParent;\n        this.container.style.zIndex = 100;\n        this.startX = clientPos.x - this.container.offsetLeft;\n        this.startY = clientPos.y - this.container.offsetTop;\n        this.x = clientPos.x - this.startX;\n        this.y = clientPos.y - this.startY;\n        this.dragStartPos.x = this.x;\n        this.dragStartPos.y = this.y;\n        // console.log('start', this.x, this.y);\n        return false;\n    }\n\n    doDrag(event) {\n        let clientPos = this.getClientPos(event);\n        if (this.ps.currentPentomino) {\n            // console.log(event);\n            this.x = clientPos.x - this.startX;\n            this.y = clientPos.y - this.startY;\n            this.container.style.left = this.x + 'px';\n            this.container.style.top = this.y + 'px';\n            // console.log('drag', this.x, this.y);\n        }\n    }\n\n    stopDrag(event) {\n        this.dragEndPos.x = this.x;\n        this.dragEndPos.y = this.y;\n        if (this.ps.currentPentomino) {\n            this.alignToGrid();\n            if (!this.isDragged()) {\n                if (((this.ps.currentPentomino.type < 4) &&\n                    (this.ps.currentPentomino.activePart < 3)) ||\n                    ((this.ps.currentPentomino.type == 4) && (this.ps.currentPentomino.activePart < 1))) {\n                    this.ps.adjustPosition();\n                    this.prms.flipRotate(this.ps.currentPentomino);\n                }\n            }\n            this.ps.registerPiece(this.ps.currentPentomino, 1);\n            this.ps.isSolved();\n        }\n        // console.log(this.ps.currentPentomino);\n        this.releasePentomino();\n    }\n\n    releasePentomino() {\n        if (this.container) {\n            this.container.style.zIndex = '';\n            this.container = null;\n        }\n        this.ps.resetCurrentPentomino();\n    }\n\n    alignToGrid() {\n        let newX = Math.round(this.x / this.ss.partSize);\n        let newY = Math.round(this.y / this.ss.partSize);\n        this.ps.alignCurrentPentomino(newX, newY);\n        this.container.style.left = newX * this.ss.partSize + 'px';\n        this.container.style.top = newY * this.ss.partSize + 'px';\n    }\n\n    isDragged() {\n        return ((Math.abs(this.dragEndPos.x - this.dragStartPos.x) > 19) || (Math.abs(this.dragEndPos.y - this.dragStartPos.y) > 19));\n    }\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class BoardService {\n\n    constructor() {\n        this.partSize = 40;\n        this.boardType = 'square';\n        this.boardTypes = {\n            'square': {\n                w: 8,\n                h: 8,\n                surface: 64\n            },\n            'rectangle': {\n                w: 6,\n                h: 10,\n                surface: 60\n            },\n            'dozen': {\n                w: 12,\n                h: 5,\n                surface: 60\n            },\n            'beam': {\n                w: 15,\n                h: 4,\n                surface: 60\n            },\n            'stick': {\n                w: 16,\n                h: 4,\n                surface: 64\n            },\n            'twig': {\n                w: 20,\n                h: 3,\n                surface: 60\n            }\n        };\n        this.solved = false;\n    }\n\n    setSolved() {\n        this.solved = true;\n    }\n\n    unsetSolved() {\n        this.solved = false;\n    }\n\n    setBoardType(shape) {\n        this.boardType = shape;\n    }\n\n    getWidth() {\n        return this.boardTypes[this.boardType].w;\n    }\n\n    getHeight() {\n        return this.boardTypes[this.boardType].h;\n    }\n\n    pentominosLength() {\n        let blockCount = (this.boardType == 'square') ? 13 : 12;\n        return blockCount;\n    }\n\n    boardsCount() {\n        let count = 0;\n        for (let k in this.boardTypes) if (this.boardTypes.hasOwnProperty(k)) count++;\n        return count;\n    }\n\n    onBoard(x, y) {\n        return (x >= 0) && (x < this.getWidth()) && (y >= 0) && (y < this.getHeight());\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class SettingsService {\n\n    constructor() {\n        this.opaqueBlocks = true;\n        this.solutionsShown = false;\n        this.scale = 1;\n    }\n\n    getScale() {\n        let screenWidth = document.querySelectorAll(\"html\")[0].clientWidth;\n        let boardWidth = document.querySelectorAll(\".board\")[0].clientWidth;\n        let scale = Math.min(screenWidth / boardWidth, 1);\n        scale = Math.floor(scale * 10) / 10;\n        this.scale = scale;\n        return {\n            'transformOrigin': 'top',\n            '-webkit-transform': 'scale(' + scale + ', ' + scale + ')',\n            '-ms-transform': 'scale(' + scale + ', ' + scale + ')',\n            'transform': 'scale(' + scale + ', ' + scale + ')'\n        };\n    };\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class SettingService {\n\n    constructor() {\n        this.opaqueBlocks = true;\n        this.solutionsShown = false;\n        this.scale = 1;\n        this.partSize = 40;\n    }\n\n    getScale() {\n        let screenWidth = document.querySelectorAll(\"html\")[0].clientWidth;\n        let boardWidth = document.querySelectorAll(\".board\")[0].clientWidth;\n        let scale = Math.min(screenWidth / boardWidth, 1);\n        scale = Math.floor(scale * 10) / 10;\n        this.scale = scale;\n        return {\n            'transformOrigin': 'top',\n            '-webkit-transform': 'scale(' + scale + ', ' + scale + ')',\n            '-ms-transform': 'scale(' + scale + ', ' + scale + ')',\n            'transform': 'scale(' + scale + ', ' + scale + ')'\n        };\n    };\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\nimport { PermutationService } from './permutation-service';\nimport { DataService } from './data-service';\n\n@inject(BoardService, PermutationService, DataService)\n\nexport class SolutionService {\n\n    constructor(boardService, permutationService, dataService) {\n        this.bs = boardService;\n        this.ds = dataService;\n        this.prms = permutationService;\n        this.currentSolution = 0;\n        this.solutions = this.ds.getSolutions();\n    }\n\n    saveSolution(pentominos) {\n        let solutionResult = this.isNewSolution(pentominos);\n        // A number indicates an existing solution\n        // A string indicate a new solution\n        if (!isNaN(solutionResult)) {\n            // show this solution\n            this.currentSolution = solutionResult;\n            this.newSolution = false;\n        } else {\n            this.ds.saveSolution(solutionResult);\n            this.solutions[this.bs.boardType].push(solutionResult);\n            this.newSolution = true;\n        }\n    }\n\n    isNewSolution(pentominos) {\n        let isNewSolution = true;\n        let rotations = (this.bs.boardType == 'square') ? 4 : 2;\n        let solutionString = this.solution2String(pentominos);\n        let foundSolStr = solutionString;\n        let theLength = this.solutions[this.bs.boardType].length;\n\n        // Mirror\n        for (let flip = 0; flip < 2; flip++) {\n            // Rotate\n            for (let rotation = 0; rotation < rotations; rotation++) {\n                // Existing solutions\n                for (let i = 0; i < theLength; i++) {\n                    solutionString = this.solution2String(pentominos);\n                    isNewSolution = isNewSolution && (this.solutions[this.bs.boardType][i] !== solutionString);\n                    if (!isNewSolution) return i;\n                }\n                // solutionString = this.solution2String(pentominos);\n                // let existingSolStr = this.solutions[this.bs.boardType[this.bs.boardType]];\n                // isNewSolution = isNewSolution &&\n                //     (existingSolStr !== 'undefined') &&\n                //     (existingSolStr !== solutionString);\n                // if (!isNewSolution) return i;\n\n                // Return to original position the last time\n                this.prms.rotateBoard(pentominos);\n            }\n            this.prms.flipBoardYAxis(pentominos);\n        }\n        return foundSolStr;\n    }\n\n    solution2String(pentominos) {\n        let solutionString = \"\";\n        let theLength = this.bs.pentominosLength();\n        for (let i = 0; i < theLength; i++) {\n            solutionString += this.pentomino2string(pentominos[i]);\n        }\n        return solutionString;\n    }\n\n    pentomino2string(pentomino) {\n        let parts = [];\n        if (pentomino) {\n            parts.push('#' + pentomino.name);\n            parts.push(pentomino.face);\n            parts.push(pentomino.position.x);\n            parts.push(pentomino.position.y);\n            return parts.join('_');\n        }\n    }\n\n}","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class PermutationService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.rotable = [\n            [ // rotate\n                [1, 2, 3, 0, 5, 6, 7, 4], // blyfn\n                [1, 2, 3, 0], // vw\n                [1, 2, 3, 0], // tu\n                [1, 0, 3, 2], // z\n                [1, 0], // i\n                [0] // xo not necessary\n            ],\n            [ // flip around yAxis\n                [4, 7, 6, 5, 0, 3, 2, 1], // blyfn\n                [3, 2, 1, 0], // vw\n                [0, 3, 2, 1], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ],\n            [ // flip around xAxis\n                [6, 5, 4, 7, 2, 1, 0, 3], // blyfn\n                [1, 0, 3, 2], // vw\n                [2, 1, 0, 3], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ]\n        ];\n    }\n\n    // Returns the new face index for a given face, action and blocktype\n    flipRotate(pentomino, part) {\n        if (part == undefined) { part = pentomino.activePart };\n        pentomino.face = this.rotable[part][pentomino.type][pentomino.face];\n        // switch the dimensions if pentomino is rotated;\n        if (part === 0) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    flipBoardYAxis(pentominos) {\n        let pentomino;\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            this.flipRotate(pentomino, 1);\n            pentomino.position.x = this.bs.getWidth() - pentomino.position.x - pentomino.dimensions[0];\n        }\n    }\n\n    // 90 clockwise rotation\n    rotateSquareBoard(pentominos) {\n        let pentomino;\n        let origin = {};\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            // bottom left of current rectangle occupied by pentomino\n            origin.x = pentomino.position.x;\n            origin.y = pentomino.position.y + pentomino.dimensions[1];\n            // rotated position on board\n            pentomino.position.x = this.bs.getWidth() - origin.y;\n            pentomino.position.y = origin.x;\n            // rotated pentomino\n            this.flipRotate(pentomino, 0);\n        }\n    }\n\n    shiftPieces(pentominos, dx, dy) {\n        for (let i = 0; i < $scope.pentominos.length; i++) {\n            $scope.pentominos[i].position.y += 4;\n        }\n    }\n\n    rotateBoard(pentominos) {\n        if (this.bs.boardType == 'square') {\n            this.rotateSquareBoard(pentominos);\n        } else {\n            // rotate twice and shift pentominos 4 positions down\n            for (let i = 0; i < 2; i++) this.rotateSquareBoard(pentominos);\n            this.shiftPieces(pentominos, 0, 4);\n        }\n        // console.log($scope.pentominos[12]);\n    }\n\n}\n"],"sourceRoot":"../src"}