{"version":3,"sources":["app.js","environment.js","main.js","services/board-service.js","services/data-service.js","services/drag-service.js","services/pentomino-service.js","services/permutation-service.js","services/setting-service.js","services/solution-service.js","services/solver-worker.js","data/colors.js","data/pentominos.js","data/start-beam.js","data/start-dozen.js","data/start-rectangle.js","data/start-square.js","data/start-stick.js","data/start-twig.js","resources/index.js","components/board.js","components/controls.js","components/header.js","components/menu.js","components/pentominos.js","components/solving.js","resources/value-converters/part-pos-value-converter.js","resources/value-converters/pento-face-value-converter.js","resources/value-converters/pento-pos-value-converter.js"],"names":["App","dragService","ds","debug","testing","configure","Promise","config","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","BoardService","partSize","boardType","boardTypes","w","h","surface","solved","newSolution","setSolved","unsetSolved","setNewSolution","unsetNewSolution","setBoardType","shape","getWidth","getHeight","boardsCount","count","k","hasOwnProperty","onBoard","x","y","touchesBoard","pentomino","isTouching","faces","face","length","i","part","position","partIsOnBoard","DataService","boardService","bs","client","getPentominos","fileName","get","data","response","JSON","parse","getColors","getStartPosition","boardShape","getSolutions","solutions","localStorage","getItem","type","saveSolution","solutionString","push","setItem","stringify","DragService","bindingSignaler","eventAggregator","settingService","pentominoService","permutationService","bnds","ea","ss","ps","prms","dragStartPos","dragEndPos","getClientPos","event","clientX","touches","clientY","scale","startDrag","partIndex","container","clientPos","setActivePentomino","registerPiece","target","offsetParent","style","zIndex","startX","offsetLeft","startY","offsetTop","doDrag","getActivePentomino","left","top","stopDrag","alignToGrid","isDragged","activePart","adjustPosition","flipRotate","publish","isSolved","releasePentomino","resetActivePentomino","newX","Math","round","newY","setActivePentominoPosition","abs","PentominoService","dataService","solutionService","sls","pentominos","offBoardPentominos","fields","activePentomino","oBlock","boardIsFull","getFields","index","setAllOnboard","onBoards","offBoards","concat","sortPentominos","registerPieces","signalViewUpdate","signal","pentos","sort","a","b","setPentominosOffboard","filter","pento","partRelPosition","partAbsPosition","partToBottom","dimensions","partToRight","onOff","onBoardParts","partsCount","setBoardFields","adjustDimensions","content","setPentominos","setOffBoardPentominos","getPentominoData","getPentominoColors","color","initialDimensions","slice","reverse","toggleOblock","pop","currentSolution","setShowSolutions","active","PermutationService","rotable","undefined","flipBoardYAxis","rotateSquareBoard","origin","shiftPieces","dx","dy","rotateBoard","mixBoard","clientWidth","floor","document","querySelectorAll","clientHeight","maxX","maxY","offsetX","random","xPos","yPos","SettingService","opaqueBlocks","showSolutions","getScale","screenWidth","boardWidth","min","SolutionService","solutionResult","isNewSolution","isNaN","rotations","solution2String","foundSolStr","solutionsCount","flip","rotation","pentomino2string","parts","name","join","boardHeight","startPositionsXblock","xPentomino","getPentomino","startPosXBlock","positionsTried","proceed","autoSolve","allOffBoard","setOnboard","xPosition","getXBlockPosition","movePentomino","sendFeedBack","findNextFit","emptyBoard","copyBoardFields","flds","discard","misFits","findFirstEmptyPosition","findFirstPartRight","offsetRight","j","firstEmptyPosition","holeFitsXPieces","nextOnboard","isFitting","findPentominoByName","set","find","xy","holeSize","oPentoOnboard","oPentominoOnboard","label","board","countDown","countLeft","countRight","countUp","holeFits","boardHas60Squares","sum","compensation","initVariables","noneStickingOut","logBoard","blockCount","partCount","console","clear","table","shiftLeft","newPosition","setFace","xShift","setPosition","shift","message","workerData","positions","postMessage","close","indexOf","splice","onmessage","e","colors","squareStart","BoardCustomElement","getBoardSizeCSS","css","width","height","getBoardClasses","classes","solvedClass","ControlsCustomElement","solutionCount","disabledButtons","subscribe","getIndicatorClass","getIndicatorText","current","text","showSolution","splitString","substr","split","props","parseInt","disableNextButton","disablePreviousButton","showFirstSolution","showPreviousSolution","showNextSolution","HeaderCustomElement","title","moves","result","getHeaderSizeCss","resetMoves","MenuCustomElement","Object","keys","settings","menuVisible","submenuBoardsVisible","showTheMenu","hideTheMenu","showThisBoard","key","toggleSubmenuBoards","getBoardDimensions","getActiveBoardClass","screenIsLargeEnough","clw","clh","workersSupported","window","Worker","showSolvingPanel","PentominosCustomElement","getPentominoClasses","getPartClasses","flipH","flipV","getPentominoCSS","backgroundColor","getPartCSS","attached","SolvingCustomElement","solvingPanelVisible","backupPentominos","slvrWrkr","canStop","log","stop","terminate","PartPosValueConverter","toView","PentoFaceValueConverter","array","PentoPosValueConverter"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { DragService } from './services/drag-service';\n\n@inject(DragService)\n\nexport class App {\n    constructor(dragService) {\n        this.ds = dragService;\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class BoardService {\n\n    constructor() {\n        this.partSize = 40;\n        this.boardType = 'square';\n        this.boardTypes = {\n            'square': {\n                w: 8,\n                h: 8,\n                surface: 64\n            },\n            'rectangle': {\n                w: 6,\n                h: 10,\n                surface: 60\n            },\n            'dozen': {\n                w: 12,\n                h: 5,\n                surface: 60\n            },\n            'beam': {\n                w: 15,\n                h: 4,\n                surface: 60\n            },\n            'stick': {\n                w: 16,\n                h: 4,\n                surface: 64\n            },\n            'twig': {\n                w: 3,\n                h: 20,\n                surface: 60\n            }\n        };\n        this.solved = false;\n        this.newSolution = false;\n    }\n\n    setSolved() {\n        this.solved = true;\n    }\n\n    unsetSolved() {\n        this.solved = false;\n    }\n\n    setNewSolution() {\n        this.newSolution = true;\n    }\n\n    unsetNewSolution() {\n        this.newSolution = false;\n    }\n\n    setBoardType(shape) {\n        this.boardType = shape;\n    }\n\n    getWidth() {\n        return this.boardTypes[this.boardType].w;\n    }\n\n    getHeight() {\n        return this.boardTypes[this.boardType].h;\n    }\n\n    boardsCount() {\n        let count = 0;\n        for (let k in this.boardTypes) if (this.boardTypes.hasOwnProperty(k)) count++;\n        return count;\n    }\n\n    onBoard(x, y) {\n        return (x >= 0) && (x < this.getWidth()) && (y >= 0) && (y < this.getHeight());\n    }\n\n    touchesBoard(pentomino) {\n        let isTouching = false;\n        const count = pentomino.faces[pentomino.face].length;\n        for (let i = 0; i < count; i++) {\n            const part = pentomino.faces[pentomino.face][i];\n            const x = pentomino.position.x + part[0];\n            const y = pentomino.position.y + part[1];\n            const partIsOnBoard = this.onBoard(x, y);\n            if (partIsOnBoard) {\n                isTouching = true;\n                break;\n            }\n        }\n        return isTouching;\n    }\n\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { HttpClient } from 'aurelia-http-client';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class DataService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.client = new HttpClient();\n    }\n\n    getPentominos() {\n        let fileName = './src/data/pentominos.json';\n        return this.client.get(fileName)\n            .then((data) => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getColors() {\n        let fileName = './src/data/colors.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getStartPosition(boardShape) {\n        let fileName = './src/data/start-' + boardShape + '.json';\n        return this.client.get(fileName)\n            .then(data => {\n                let response = JSON.parse(data.response);\n                return response;\n            });\n    }\n\n    getSolutions() {\n\n        let solutions;\n\n        if (localStorage.getItem(\"pentominos2\")) {\n            solutions = JSON.parse(localStorage.getItem(\"pentominos2\"));\n        } else {\n            solutions = {};\n            let boardTypes = this.bs.boardTypes;\n            for (let type in boardTypes) {\n                if (boardTypes.hasOwnProperty(type)) {\n                    solutions[type] = [];\n                }\n            }\n        }\n        return solutions;\n    }\n\n    saveSolution(solutionString) {\n        let solutions = this.getSolutions(this.bs.boardTypes);\n        solutions[this.bs.boardType].push(solutionString);\n        localStorage.setItem(\"pentominos2\", JSON.stringify(solutions));\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { SettingService } from './setting-service';\nimport { PentominoService } from './pentomino-service';\nimport { PermutationService } from './permutation-service';\n\n@inject(BindingSignaler, EventAggregator, SettingService, PentominoService, PermutationService)\n\nexport class DragService {\n\n    constructor(bindingSignaler, eventAggregator, settingService, pentominoService, permutationService) {\n        this.bnds = bindingSignaler;\n        this.ea = eventAggregator;\n        this.ss = settingService;\n        this.ps = pentominoService;\n        this.prms = permutationService;\n        this.dragStartPos = {};\n        this.dragEndPos = {};\n    }\n\n    getClientPos(event) {\n        let clientX = (event.touches) ? event.touches[0].clientX : event.clientX;\n        let clientY = (event.touches) ? event.touches[0].clientY : event.clientY;\n        return {\n            x: clientX / this.ss.scale,\n            y: clientY / this.ss.scale\n        };\n    }\n\n    startDrag(pentomino, partIndex, event) {\n        if (this.container == null) {\n            let clientPos = this.getClientPos(event);\n            this.ps.setActivePentomino(pentomino, partIndex);\n            this.ps.registerPiece(pentomino, -1);\n            this.container = event.target.offsetParent.offsetParent;\n            this.container.style.zIndex = 100;\n            this.startX = clientPos.x - this.container.offsetLeft;\n            this.startY = clientPos.y - this.container.offsetTop;\n            this.x = clientPos.x - this.startX;\n            this.y = clientPos.y - this.startY;\n            this.dragStartPos.x = this.x;\n            this.dragStartPos.y = this.y;\n        }\n        return false;\n    }\n\n    doDrag(event) {\n        let clientPos = this.getClientPos(event);\n        if (this.ps.getActivePentomino()) {\n            this.x = clientPos.x - this.startX;\n            this.y = clientPos.y - this.startY;\n            this.container.style.left = this.x + 'px';\n            this.container.style.top = this.y + 'px';\n        }\n    }\n\n    stopDrag(event) {\n        this.dragEndPos.x = this.x;\n        this.dragEndPos.y = this.y;\n        let pentomino = this.ps.getActivePentomino();\n        if (pentomino) {\n            this.alignToGrid();\n            if (!this.isDragged()) {\n                if (((pentomino.type < 4) &&\n                    (pentomino.activePart < 3)) ||\n                    ((pentomino.type == 4) && (pentomino.activePart < 1))) {\n                    this.ps.adjustPosition();\n                    this.prms.flipRotate(pentomino);\n                    this.ea.publish('move', 1);\n                }\n            } else {\n                this.ea.publish('move', 1);\n            }\n            this.ps.registerPiece(pentomino, 1);\n            this.ps.isSolved();\n        }\n        this.releasePentomino();\n    }\n\n    releasePentomino() {\n        if (this.container) {\n            this.container.style.zIndex = '';\n            this.container = null;\n        }\n        this.ps.resetActivePentomino();\n    }\n\n    alignToGrid() {\n        let newX = Math.round(this.x / this.ss.partSize);\n        let newY = Math.round(this.y / this.ss.partSize);\n        this.ps.setActivePentominoPosition(newX, newY);\n        this.container.style.left = newX * this.ss.partSize + 'px';\n        this.container.style.top = newY * this.ss.partSize + 'px';\n    }\n\n    isDragged() {\n        return ((Math.abs(this.dragEndPos.x - this.dragStartPos.x) > 19) || (Math.abs(this.dragEndPos.y - this.dragStartPos.y) > 19));\n    }\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { DataService } from './data-service';\nimport { BoardService } from './board-service';\nimport { SolutionService } from './solution-service';\n\n@inject(BindingSignaler, DataService, BoardService, SolutionService)\nexport class PentominoService {\n\n    constructor(bindingSignaler, dataService, boardService, solutionService) {\n\n        this.bnds = bindingSignaler;\n        this.ds = dataService;\n        this.bs = boardService;\n        this.sls = solutionService;\n\n        this.pentominos = [];\n        this.offBoardPentominos = [];\n        this.fields = [];\n        this.activePentomino = null;\n        this.oBlock = null;\n        this.start();\n    }\n\n    isSolved() {\n        let boardIsFull = this.boardIsFull();\n        if (boardIsFull) {\n            this.bs.setSolved();\n            this.sls.saveSolution(this.pentominos);\n        } else {\n            this.bs.unsetNewSolution();\n            this.bs.unsetSolved();\n        }\n    }\n\n    boardIsFull() {\n        let h = this.bs.getHeight();\n        let w = this.bs.getWidth();\n        // console.table(this.fields);\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n                if (this.fields[y][x] !== 1) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    getActivePentomino() {\n        return this.activePentomino;\n    }\n\n    getFields() {\n        return this.fields;\n    }\n\n    setActivePentomino(pentomino, index) {\n        this.activePentomino = pentomino;\n        this.activePentomino.activePart = index;\n    }\n\n    resetActivePentomino() {\n        if (this.activePentomino) {\n            this.activePentomino.activePart = null;\n        }\n        this.activePentomino = null;\n    }\n\n    setActivePentominoPosition(newX, newY) {\n        this.activePentomino.position.x = newX;\n        this.activePentomino.position.y = newY;\n    }\n\n    setAllOnboard(onBoards, offBoards) {\n        this.pentominos = onBoards.concat(offBoards);\n        this.pentominos = this.sortPentominos(this.pentominos);\n        this.registerPieces();\n    }\n\n    signalViewUpdate() {\n        this.bnds.signal('position-signal');\n    }\n\n    sortPentominos(pentos) {\n        pentos.sort((a, b) => {\n            return a.index - b.index;\n        });\n        return pentos;\n    }\n\n    setPentominosOffboard() {\n        this.registerPieces();\n        this.offBoardPentominos = this.pentominos.filter((pento) => {\n            return pento.onBoard === false;\n        });\n        this.pentominos = this.pentominos.filter((pento) => {\n            return pento.onBoard === true;\n        });\n        this.registerPieces();\n        return this.offBoardPentominos;\n    }\n\n    adjustPosition() {  // Thanks Ben Nierop, for the idea\n        let pentomino = this.activePentomino;\n        let partRelPosition = pentomino.faces[pentomino.face][pentomino.activePart];\n        let partAbsPosition = [\n            pentomino.position.x + partRelPosition[0],\n            pentomino.position.y + partRelPosition[1]\n        ];\n        let partToBottom = pentomino.dimensions[1] - partRelPosition[1] - 1;\n        let partToRight = pentomino.dimensions[0] - partRelPosition[0] - 1;\n        switch (pentomino.activePart) {\n            case 0:\n                pentomino.position.x = partAbsPosition[0] - partToBottom;\n                pentomino.position.y = partAbsPosition[1] - partRelPosition[0];\n                break;\n            case 1:\n                pentomino.position.x = partAbsPosition[0] - partToRight;\n                break;\n            case 2:\n                pentomino.position.y = partAbsPosition[1] - partToBottom;\n                break;\n        }\n    }\n\n    registerPiece(pentomino, onOff) {\n        if (pentomino) {\n            let onBoardParts = 0;\n            let partsCount = pentomino.faces[pentomino.face].length;\n            for (let i = 0; i < partsCount; i++) {\n                let x = pentomino.faces[pentomino.face][i][0] + pentomino.position.x;\n                let y = pentomino.faces[pentomino.face][i][1] + pentomino.position.y;\n                if (this.bs.onBoard(x, y)) {\n                    this.fields[y][x] += onOff;\n                    onBoardParts += 1;\n                }\n                pentomino.onBoard = (onBoardParts == partsCount);\n            }\n        }\n    }\n\n    registerPieces() {\n        this.fields = this.setBoardFields(0);\n        for (var i = 0; i < this.pentominos.length; i++) {\n            let pentomino = this.pentominos[i];\n            this.registerPiece(pentomino, 1);\n            this.adjustDimensions(pentomino);\n        }\n        this.signalViewUpdate();\n    }\n\n    setBoardFields(content) {\n        let w = this.bs.getWidth();\n        let h = this.bs.getHeight();\n        let fields = [];\n        for (let y = 0; y < h; y++) {\n            fields.push([]);\n            for (let x = 0; x < w; x++) {\n                fields[y].push(content);\n            }\n        }\n        return fields;\n    }\n\n    setPentominos(pentos) {\n        this.pentominos = pentos;\n    }\n\n    setOffBoardPentominos(pentos) {\n        this.offBoardPentominos = pentos;\n    }\n\n    start() {\n        this.getPentominoData().then((response) => {\n            this.pentominos = response;\n            this.getPentominoColors().then(() => {\n                this.getStartPosition(this.bs.boardType).then(() => {\n                    this.registerPieces();\n                    this.solved = false;\n                });\n            });\n        });\n    }\n\n    // Get the pentomino blocks\n    getPentominoData() {\n        return this.ds.getPentominos().then((response) => {\n            return response;\n        });\n    }\n\n    // Get the colors for the pentominos\n    getPentominoColors() {\n        return this.ds.getColors().then((response) => {\n            for (let i = 0; i < this.pentominos.length; i++) {\n                this.pentominos[i].color = response[i].color;\n            }\n        });\n    }\n\n    adjustDimensions(pentomino) {\n        if (pentomino && pentomino.initialDimensions) {\n            pentomino.dimensions = pentomino.initialDimensions.slice();\n        }\n        if (pentomino && pentomino.face % 2 == 1) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    // Remove or add the Oblock as needed for current boardType\n    toggleOblock(count) {\n        if (this.pentominos.length > count) {\n            this.oBlock = this.pentominos.pop();\n        } else {\n            if (this.oBlock) {\n                this.pentominos.push(this.oBlock);\n                this.oBlock = null;\n            }\n        }\n    }\n\n    // Get the starting position for the given board type\n    getStartPosition(shape) {\n        return this.ds.getStartPosition(shape).then((response) => {\n            this.bs.boardType = shape;\n            this.sls.currentSolution = -1;\n            this.sls.setShowSolutions();\n            let count = response.length;\n            this.toggleOblock(count);\n            for (let i = 0; i < count; i++) {\n                let pentomino = this.pentominos[i];\n                pentomino.face = response[i].face;\n                pentomino.position = response[i].position;\n                pentomino.active = false;\n                pentomino.index = i;\n                if (!pentomino.initialDimensions) {\n                    pentomino.initialDimensions = pentomino.dimensions.slice();\n                } else {\n                    pentomino.dimensions = pentomino.initialDimensions.slice();\n                }\n                if (pentomino.face % 2 == 1) {\n                    pentomino.dimensions.reverse();\n                }\n            }\n            this.registerPieces();\n        });\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\n\n@inject(BoardService)\n\nexport class PermutationService {\n\n    constructor(boardService) {\n        this.bs = boardService;\n        this.rotable = [\n            [ // rotate\n                [1, 2, 3, 0, 5, 6, 7, 4], // blyfn\n                [1, 2, 3, 0], // vw\n                [1, 2, 3, 0], // tu\n                [1, 0, 3, 2], // z\n                [1, 0], // i\n                [0] // xo not necessary\n            ],\n            [ // flip around yAxis\n                [4, 7, 6, 5, 0, 3, 2, 1], // blyfn\n                [3, 2, 1, 0], // vw\n                [0, 3, 2, 1], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ],\n            [ // flip around xAxis\n                [6, 5, 4, 7, 2, 1, 0, 3], // blyfn\n                [1, 0, 3, 2], // vw\n                [2, 1, 0, 3], // tu\n                [2, 3, 0, 1], // z\n                [0, 1], // i not necessary\n                [0] // xo not necessary\n            ]\n        ];\n    }\n\n    // Returns the new face index for a given face, action and blocktype\n    flipRotate(pentomino, part) {\n        if (part == undefined) { part = pentomino.activePart; }\n        pentomino.face = this.rotable[part][pentomino.type][pentomino.face];\n        // switch the dimensions if pentomino is rotated;\n        if (part === 0) {\n            pentomino.dimensions.reverse();\n        }\n    }\n\n    flipBoardYAxis(pentominos) {\n        let pentomino;\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            this.flipRotate(pentomino, 1);\n            pentomino.position.x = this.bs.getWidth() - pentomino.position.x - pentomino.dimensions[0];\n        }\n    }\n\n    // 90 clockwise rotation\n    rotateSquareBoard(pentominos) {\n        let pentomino;\n        let origin = {};\n        for (let i = 0; i < pentominos.length; i++) {\n            pentomino = pentominos[i];\n            // bottom left of current rectangle occupied by pentomino\n            origin.x = pentomino.position.x;\n            origin.y = pentomino.position.y + pentomino.dimensions[1];\n            // rotated position on board\n            pentomino.position.x = this.bs.getWidth() - origin.y;\n            pentomino.position.y = origin.x;\n            // rotated pentomino\n            this.flipRotate(pentomino, 0);\n        }\n    }\n\n    shiftPieces(pentominos, dx, dy) {\n        for (let i = 0; i < pentominos.length; i++) {\n            pentominos[i].position.x += dx;\n            pentominos[i].position.y += dy;\n        }\n    }\n\n    rotateBoard(pentominos) {\n        if (this.bs.boardType == 'square') {\n            this.rotateSquareBoard(pentominos);\n        } else {\n            // rotate twice and shift pentominos 4 positions down\n            for (let i = 0; i < 2; i++) this.rotateSquareBoard(pentominos);\n            this.shiftPieces(pentominos, 0, 4);\n        }\n    }\n\n    mixBoard(pentominos) {\n        let clientWidth = Math.floor(document.querySelectorAll('.dragArea')[0].clientWidth / this.bs.partSize);\n        let clientHeight = Math.floor(document.querySelectorAll('.dragArea')[0].clientHeight / this.bs.partSize);\n        let maxX = clientWidth - 4;\n        let maxY = clientHeight - 4;\n        // offset values in positions\n        let offsetX = Math.floor((clientWidth - this.bs.getWidth()) / 2);\n\n        const count = pentominos.length;\n        for (let i = 0; i < count; i++) {\n            const pentomino = pentominos[i];\n            const face = Math.floor(Math.random() * pentomino.faces.length);\n            pentomino.face = face;\n            // find random off board position\n            do {\n                let xPos = Math.floor(Math.random() * maxX);\n                xPos -= offsetX;\n                let yPos = Math.floor(Math.random() * maxY);\n\n                pentomino.position.x = xPos;\n                pentomino.position.y = yPos;\n            } while (this.bs.touchesBoard(pentomino));\n            pentomino.onBoard = false;\n        }\n    }\n\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\n\nexport class SettingService {\n\n    constructor() {\n        this.opaqueBlocks = true;\n        this.showSolutions = false;\n        this.scale = 1;\n        this.partSize = 40;\n        this.opaqueBlocks = false;\n    }\n\n    getScale() {\n        let screenWidth = document.querySelectorAll(\"html\")[0].clientWidth;\n        let boardWidth = document.querySelectorAll(\".board\")[0].clientWidth;\n        let scale = Math.min(screenWidth / boardWidth, 1);\n        scale = Math.floor(scale * 10) / 10;\n        this.scale = scale;\n        return {\n            'transformOrigin': 'top',\n            '-webkit-transform': 'scale(' + scale + ', ' + scale + ')',\n            '-ms-transform': 'scale(' + scale + ', ' + scale + ')',\n            'transform': 'scale(' + scale + ', ' + scale + ')'\n        };\n    }\n\n    setShowSolutions() {\n        this.showSolutions = true;\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from './board-service';\nimport { PermutationService } from './permutation-service';\nimport { DataService } from './data-service';\nimport { SettingService } from '../services/setting-service';\n\n@inject(BoardService, PermutationService, DataService, SettingService)\n\nexport class SolutionService {\n\n    constructor(boardService, permutationService, dataService, settingService) {\n        this.bs = boardService;\n        this.ds = dataService;\n        this.ss = settingService;\n        this.prms = permutationService;\n        this.boardType = this.bs.boardType;\n        this.currentSolution = -1;\n        this.getSolutions();\n    }\n\n    getSolutions() {\n        this.solutions = this.ds.getSolutions();\n        this.setShowSolutions();\n    }\n\n    setShowSolutions() {\n        this.currentSolution = -1;\n        if (this.solutions[this.bs.boardType].length > 0) {\n            this.ss.setShowSolutions();\n        }\n    }\n\n    saveSolution(pentominos) {\n        let solutionResult = this.isNewSolution(pentominos);\n        // A number indicates an existing solution\n        // A string indicate a new solution\n        if (!isNaN(solutionResult)) {\n            // show this solution\n            this.currentSolution = solutionResult;\n            this.bs.unsetNewSolution();\n        } else {\n            this.ds.saveSolution(solutionResult);\n            this.solutions[this.boardType].push(solutionResult);\n            this.currentSolution = this.solutions[this.boardType].length - 1;\n            this.bs.setNewSolution();\n        }\n    }\n\n    isNewSolution(pentominos) {\n        let isNewSolution = true;\n        let rotations = (this.boardType == 'square') ? 4 : 2;\n        let solutionString = this.solution2String(pentominos);\n        let foundSolStr = solutionString;\n        let solutionsCount = this.solutions[this.boardType].length;\n\n        // Mirror\n        for (let flip = 0; flip < 2; flip++) {\n            // Rotate\n            for (let rotation = 0; rotation < rotations; rotation++) {\n                // Existing solutions\n                for (let i = 0; i < solutionsCount; i++) {\n                    solutionString = this.solution2String(pentominos);\n                    isNewSolution = isNewSolution && (this.solutions[this.bs.boardType][i] !== solutionString);\n                    if (!isNewSolution) return i;\n                }\n                // Return to original position the last time\n                this.prms.rotateBoard(pentominos);\n            }\n            this.prms.flipBoardYAxis(pentominos);\n        }\n        return foundSolStr;\n    }\n\n    solution2String(pentominos) {\n        let solutionString = \"\";\n        let count = pentominos.length;\n        for (let i = 0; i < count; i++) {\n            let pentomino = pentominos[i];\n            solutionString += this.pentomino2string(pentomino);\n        }\n        return solutionString;\n    }\n\n    pentomino2string(pentomino) {\n        let parts = [];\n        if (pentomino) {\n            parts.push('#' + pentomino.name);\n            parts.push(pentomino.face);\n            parts.push(pentomino.position.x);\n            parts.push(pentomino.position.y);\n            return parts.join('_');\n        }\n    }\n\n}","let boardType = '';\nlet boardWidth;\nlet boardHeight;\nlet fields = [];\nlet pentominos = [];\nlet offBoardPentominos = [];\nlet startPositionsXblock = {\n    'square': [\n        [1, 0],\n        [1, 1],\n        [2, 0],\n        [2, 1],\n        [2, 2]\n    ],\n    'rectangle': [\n        [1, 0],\n        [0, 1],\n        [1, 1],\n        [0, 2],\n        [1, 2],\n        [0, 3],\n        [1, 3]\n    ],\n    'dozen': [\n    ],\n    'beam': [\n    ],\n    'stick': [\n    ],\n    'twig': [\n        [0, 1],\n        [0, 6]\n    ]\n};\nlet xPentomino = () => getPentomino('x');\nlet startPosXBlock = 0;\nlet positionsTried = 0;\nlet proceed = true;\n\nlet adjustDimensions = function (pentomino) {\n    if (pentomino && pentomino.initialDimensions) {\n        pentomino.dimensions = pentomino.initialDimensions.slice();\n    }\n    if (pentomino && pentomino.face % 2 === 1) {\n        pentomino.dimensions.reverse();\n    }\n};\n\nlet autoSolve = function (offBoards) {\n    if (allOffBoard()) {\n        // put the x on board\n        setOnboard(xPentomino(), false);\n        let xPosition = getXBlockPosition();\n        while (xPosition) {  //for all x positions\n            movePentomino(xPentomino(), 0, xPosition, false);\n            sendFeedBack('draw');\n            positionsTried++;\n            offBoards = findNextFit(offBoards);\n            xPosition = getXBlockPosition();\n        }\n    } else {\n        offBoards = findNextFit(offBoards);\n    }\n    return offBoards;\n};\n\nlet allOffBoard = function () {\n    let emptyBoard = pentominos.length === 0;\n    return emptyBoard;\n};\n\nlet copyBoardFields = function () {\n    let flds = [];\n    for (let y = 0; y < boardHeight; y++) {\n        flds.push([]);\n        for (let x = 0; x < boardWidth; x++) {\n            flds[y].push(fields[y][x]);\n        }\n    }\n    return flds;\n};\n\nlet discard = function (misFits) {\n    let pentomino = pentominos.pop();\n    pentomino.onBoard = false;\n    misFits.push(pentomino);\n    registerPiece(pentomino, -1);\n    return misFits;\n};\n\nlet findFirstEmptyPosition = function () {\n    // #todo Traverse arrays without for loop\n    for (let y = 0; y < boardHeight; y++) {\n        for (let x = 0; x < boardWidth; x++) {\n            if (fields[y][x] === 0) return [x, y];\n        }\n    }\n    return false;\n};\n\nlet findFirstPartRight = function (pentomino) {\n    let offsetRight = pentomino.dimensions[0];\n    let part = pentomino.faces[pentomino.face][0];\n    for (let j = 0; j < pentomino.faces[pentomino.face].length; j++) {\n        part = pentomino.faces[pentomino.face][j];\n        offsetRight = ((part[1] === 0) && (part[0] < offsetRight)) ? part[0] : offsetRight;\n    }\n    return offsetRight;\n};\n\nlet findNextFit = function (offBoards) {\n    let misFits = [];\n    const firstEmptyPosition = findFirstEmptyPosition();\n    if (firstEmptyPosition) { // start trying other pentominos\n        if (holeFitsXPieces(firstEmptyPosition)) {\n            while (offBoards.length) {\n                const pentomino = nextOnboard(offBoards);\n                if (pentomino) {\n                    // console.clear();\n                    // console.log('trying ', positionsTried, pentomino.name);\n                    const count = pentomino.faces.length;\n                    for (let face = 0; face < count; face++) {\n                        positionsTried++;\n                        movePentomino(pentomino, face, firstEmptyPosition, true);\n                        if (isFitting() && proceed) {\n                            sendFeedBack('draw');\n                            findNextFit(sortPentominos(misFits.concat(offBoards)));\n                        }\n                    }\n                    discard(misFits);\n                    sendFeedBack('draw');\n                } // else next pentomino\n            }\n        }\n    } else {\n        sendFeedBack('solution');\n    }\n    return misFits.concat(offBoards);\n};\n\nlet findPentominoByName = function (set, name) {\n    return set.find((pento) => { return pento.name === name; });\n};\n\nlet getPentomino = function (name) {\n    let pentomino = findPentominoByName(pentominos.concat(offBoardPentominos), name);\n    return pentomino;\n};\n\nlet getXBlockPosition = function () {\n    if (startPosXBlock < startPositionsXblock[boardType].length) {\n        let position = startPositionsXblock[boardType][startPosXBlock].slice();\n        startPosXBlock += 1;\n        return position;\n    } else {\n        return false;\n    }\n};\n\n// find out if open region at x,y is large enough for a pentomino by recursion counting\n// xy has to be the most up left open spot\nlet holeFitsXPieces = function (xy) {\n    let holeSize = 0;\n    let oPentoOnboard = oPentominoOnboard();\n    let label = 'a';\n    let board = copyBoardFields();\n    let y = xy[1];\n\n    let countDown = (xy) => {\n        let y = xy[1];\n        const x = xy[0];\n        while ((y < boardHeight) && (board[y][x] === 0)) {\n            board[y][x] = label;\n            holeSize++;\n            // console.table(board);\n            countLeft([x - 1, y]);\n            countRight([x + 1, y]);\n            y++;\n        }\n    };\n\n    let countUp = (xy) => {\n        let y = xy[1];\n        const x = xy[0];\n        while ((y >= 0) && (board[y][x] === 0)) {\n            board[y][x] = label;\n            holeSize++;\n            // console.table(board);\n            countRight([x + 1, y]);\n            countLeft([x - 1, y]);\n            y--;\n        }\n    };\n\n    let countRight = (xy) => {\n        let x = xy[0];\n        const y = xy[1];\n        while ((x < boardWidth) && (board[y][x] === 0)) {\n            board[y][x] = label;\n            holeSize++;\n            // console.table(board);\n            countDown([x, y + 1]);\n            countUp([x, y - 1]);\n            x++;\n        }\n    };\n\n    let countLeft = (xy) => {\n        let x = xy[0];\n        const y = xy[1];\n        while ((x >= 0) && (board[y][x] === 0)) {\n            board[y][x] = label;\n            holeSize++;\n            // console.table(board);\n            countDown([x, y + 1]);\n            countUp([x, y - 1]);\n            x--;\n        }\n    };\n\n    countRight(xy);\n    return holeFits(holeSize);\n};\n\nlet boardHas60Squares = function () {\n    return !(boardType === 'square' || boardType === 'stick');\n};\n\nlet holeFits = function (sum) {\n    let compensation = (oPentominoOnboard() || boardHas60Squares()) ? 0 : 4;\n    return ((sum - compensation) % 5 === 0);\n};\n\nlet initVariables = function (data) {\n    boardType = data.boardType;\n    boardWidth = data.boardWidth;\n    boardHeight = data.boardHeight;\n    fields = data.fields;\n    pentominos = data.onBoards;\n    offBoardPentominos = data.offBoards;\n};\n\n// Return true if no overlapping pieces and all pieces are completely on the board\nlet isFitting = function () {\n    let sum = 0;\n    const h = fields.length;\n    for (let y = 0; y < h; y++) {\n        const w = fields[y].length;\n        for (let x = 0; x < w; x++) {\n            if (fields[y][x] > 1) {\n                return false;\n            } else {\n                sum += fields[y][x];\n            }\n        }\n    }\n    return noneStickingOut(sum);\n};\n\nlet logBoard = function () {\n    let flds = setBoardFields('');\n    const blockCount = pentominos.length;\n    for (let i = 0; i < blockCount; i++) {\n        const pentomino = pentominos[i];\n        const face = pentomino.faces[pentomino.face];\n        const partCount = face.length;\n        for (let j = 0; j < partCount; j++) {\n            const x = face[j][0] + pentomino.position.x;\n            const y = face[j][1] + pentomino.position.y;\n            if (y < boardHeight && x < boardWidth) {\n                flds[y][x] += pentomino.name;\n            }\n        }\n    }\n    console.clear();\n    console.table(flds);\n};\n\nlet movePentomino = function (pentomino, face, position, shiftLeft) {\n    let newPosition;\n    registerPiece(pentomino, -1);\n    setFace(pentomino, face);\n    // If left top of pentomino is empty ___|\n    // move pentomino to the left\n    if (shiftLeft && position[0] > 0) {\n        let xShift = findFirstPartRight(pentomino);\n        newPosition = [position[0] - xShift, position[1]];\n    } else {\n        newPosition = position;\n    }\n    setPosition(pentomino, newPosition);\n    registerPiece(pentomino, 1);\n};\n\nlet nextOnboard = function (offBoards) {\n    let pentomino = offBoards.shift();\n    pentomino.onBoard = true;\n    pentominos.push(pentomino);\n    registerPiece(pentomino, 1);\n    return pentomino;\n};\n\nlet noneStickingOut = function (sum) {\n    let compensation = (oPentominoOnboard() || boardType === 'rectangle') ? 4 : 0;\n    return ((sum - compensation) % 5 === 0);\n};\n\nlet onBoard = function (x, y) {\n    return (x >= 0) && (x < boardWidth) && (y >= 0) && (y < boardHeight);\n};\n\nlet oPentominoOnboard = function () {\n    return pentominos.filter((pento) => {\n        return pento.name === 'o';\n    }).length > 0;\n};\n\nlet registerPiece = function (pentomino, onOff) {\n    if (pentomino) {\n        let onBoardParts = 0;\n        const face = pentomino.faces[pentomino.face];\n        const partsCount = face.length;\n        for (let i = 0; i < partsCount; i++) {\n            const part = face[i];\n            const x = part[0] + pentomino.position.x;\n            const y = part[1] + pentomino.position.y;\n            if (onBoard(x, y)) {\n                fields[y][x] += onOff;\n                onBoardParts += 1;\n            }\n            pentomino.onBoard = (onBoardParts == partsCount);\n        }\n    }\n};\n\nlet sendFeedBack = function (message) {\n    // logBoard();\n    let workerData = {\n        message: message || 'solution',\n        positions: positionsTried,\n        onBoards: []\n    };\n    switch (message) {\n        case 'draw':\n            workerData.onBoards = pentominos;\n            break;\n        case 'solution':\n            workerData.onBoards = pentominos;\n            break;\n        case 'finish':\n            workerData.onBoards = pentominos.concat(offBoardPentominos);\n            postMessage(workerData);\n            close();\n        default:\n            close();\n            break;\n    }\n    postMessage(workerData);\n};\n\nlet setFace = function (pentomino, face) {\n    pentomino.face = face;\n    adjustDimensions(pentomino);\n};\n\nlet setPosition = function (pentomino, position) {\n    pentomino.position.x = position[0];\n    pentomino.position.y = position[1];\n};\n\nlet setBoardFields = function (content) {\n    let w = boardWidth;\n    let h = boardHeight;\n    let fields = [];\n    for (let y = 0; y < h; y++) {\n        fields.push([]);\n        for (let x = 0; x < w; x++) {\n            fields[y].push(content);\n        }\n    }\n    return fields;\n};\n\nlet setOnboard = function (pentomino) {\n    pentominos.push(pentomino);\n    let index = offBoardPentominos.indexOf(pentomino);\n    offBoardPentominos.splice(index, 1);\n};\n\nlet sortPentominos = function (pentos) {\n    pentos.sort((a, b) => {\n        return a.index - b.index;\n    });\n    return pentos;\n};\n\nonmessage = function (e) {\n    let message = e.data.message;\n    switch (message) {\n        case 'solve':\n            proceed = true;\n            initVariables(e.data);\n            offBoardPentominos = autoSolve(offBoardPentominos, pentominos);\n            break;\n        case 'stop':\n            proceed = false;\n            break;\n        default:\n            break;\n    }\n    sendFeedBack('finish');\n};\n","colors = [\n    {\n        \"name\": \"b\",\n        \"color\": \"midnightblue\"\n    }, {\n        \"name\": \"c\",\n        \"color\": \"darkviolet\"\n    }, {\n        \"name\": \"f\",\n        \"color\": \"darkorange\"\n    }, {\n        \"name\": \"i\",\n        \"color\": \"maroon\"\n    }, {\n        \"name\": \"l\",\n        \"color\": \"darkgreen\"\n    }, {\n        \"name\": \"n\",\n        \"color\": \"magenta\"\n    }, {\n        \"name\": \"t\",\n        \"color\": \"limegreen\"\n    }, {\n        \"name\": \"v\",\n        \"color\": \"deepskyblue\"\n    }, {\n        \"name\": \"w\",\n        \"color\": \"teal\"\n    }, {\n        \"name\": \"x\",\n        \"color\": \"red\"\n    }, {\n        \"name\": \"y\",\n        \"color\": \"gold\"\n    }, {\n        \"name\": \"z\",\n        \"color\": \"mediumblue\"\n    }, {\n        \"name\": \"o\",\n        \"color\": \"darkslategray\"\n    }\n];\n","pentominos = [\n    {\n        \"name\": \"b\",\n        \"type\": 0,\n        \"faces\": [\n            [[1, 0], [1, 1], [0, 0], [2, 0], [0, 1]],\n            [[1, 1], [1, 0], [0, 1], [0, 0], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 0], [2, 1]],\n            [[0, 1], [0, 0], [1, 1], [0, 2], [1, 2]],\n            [[1, 0], [1, 1], [0, 0], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 1], [0, 2], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [0, 0], [2, 1]],\n            [[0, 1], [0, 0], [1, 1], [0, 2], [1, 0]]\n        ],\n        \"dimensions\": [3, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"c\",\n        \"type\": 2,\n        \"faces\": [\n            [[1, 0], [0, 1], [0, 0], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 0], [1, 2], [0, 2]],\n            [[1, 1], [0, 0], [0, 1], [2, 1], [2, 0]],\n            [[0, 1], [0, 0], [1, 0], [0, 2], [1, 2]]\n        ],\n        \"dimensions\": [3, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"f\",\n        \"type\": 0,\n        \"faces\": [\n            [[1, 1], [1, 0], [0, 1], [2, 0], [1, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [2, 2]],\n            [[1, 1], [1, 0], [2, 1], [0, 2], [1, 2]],\n            [[1, 1], [1, 2], [0, 1], [0, 0], [2, 1]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [1, 2]],\n            [[1, 1], [1, 2], [0, 1], [2, 0], [2, 1]],\n            [[1, 1], [1, 0], [0, 1], [1, 2], [2, 2]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [0, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"i\",\n        \"type\": 4,\n        \"faces\": [\n            [[2, 0], [0, 0], [1, 0], [3, 0], [4, 0]],\n            [[0, 2], [0, 0], [0, 1], [0, 3], [0, 4]]\n        ],\n        \"dimensions\": [5, 1],\n        \"parts\": 5\n    }, {\n        \"name\": \"l\",\n        \"type\": 0,\n        \"faces\": [\n            [[0, 0], [0, 1], [1, 0], [2, 0], [3, 0]],\n            [[1, 0], [1, 1], [0, 0], [1, 2], [1, 3]],\n            [[3, 1], [3, 0], [2, 1], [0, 1], [1, 1]],\n            [[0, 3], [0, 2], [1, 3], [0, 0], [0, 1]],\n            [[3, 0], [3, 1], [2, 0], [0, 0], [1, 0]],\n            [[1, 3], [1, 2], [0, 3], [1, 0], [1, 1]],\n            [[0, 1], [0, 0], [1, 1], [2, 1], [3, 1]],\n            [[0, 0], [0, 1], [1, 0], [0, 2], [0, 3]]\n        ],\n        \"dimensions\": [4, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"n\",\n        \"type\": 0,\n        \"faces\": [\n            [[2, 0], [2, 1], [1, 0], [0, 0], [3, 1]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [0, 3]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [3, 1]],\n            [[0, 1], [0, 2], [1, 1], [1, 0], [0, 3]],\n            [[1, 0], [1, 1], [2, 0], [0, 1], [3, 0]],\n            [[1, 1], [1, 2], [0, 1], [0, 0], [1, 3]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [3, 0]],\n            [[0, 2], [0, 1], [1, 2], [0, 0], [1, 3]]\n        ],\n        \"dimensions\": [4, 2],\n        \"parts\": 5\n    }, {\n        \"name\": \"t\",\n        \"type\": 2,\n        \"faces\": [\n            [[1, 0], [1, 1], [0, 0], [2, 0], [1, 2]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [2, 2]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [2, 2]],\n            [[0, 1], [0, 0], [1, 1], [2, 1], [0, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"v\",\n        \"type\": 1,\n        \"faces\": [\n            [[0, 2], [0, 1], [1, 2], [0, 0], [2, 2]],\n            [[0, 0], [0, 1], [1, 0], [0, 2], [2, 0]],\n            [[2, 0], [2, 1], [1, 0], [0, 0], [2, 2]],\n            [[2, 2], [2, 1], [1, 2], [0, 2], [2, 0]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"w\",\n        \"type\": 1,\n        \"faces\": [\n            [[1, 1], [1, 2], [0, 1], [0, 0], [2, 2]],\n            [[1, 1], [1, 0], [0, 1], [0, 2], [2, 0]],\n            [[1, 1], [1, 0], [2, 1], [0, 0], [2, 2]],\n            [[1, 1], [1, 2], [2, 1], [0, 2], [2, 0]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"x\",\n        \"type\": 5,\n        \"faces\": [\n            [[1, 0], [0, 1], [1, 1], [2, 1], [1, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"y\",\n        \"type\": 0,\n        \"faces\": [\n            [[0, 1], [0, 0], [1, 1], [0, 2], [0, 3]],\n            [[2, 0], [2, 1], [1, 0], [0, 0], [3, 0]],\n            [[1, 2], [1, 1], [0, 2], [1, 0], [1, 3]],\n            [[1, 1], [1, 0], [0, 1], [2, 1], [3, 1]],\n            [[1, 1], [1, 0], [0, 1], [1, 2], [1, 3]],\n            [[2, 1], [2, 0], [1, 1], [0, 1], [3, 1]],\n            [[0, 2], [0, 1], [1, 2], [0, 0], [0, 3]],\n            [[1, 0], [1, 1], [0, 0], [2, 0], [3, 0]]\n        ],\n        \"dimensions\": [2, 4],\n        \"parts\": 5\n    }, {\n        \"name\": \"z\",\n        \"type\": 3,\n        \"faces\": [\n            [[1, 1], [2, 2], [0, 1], [2, 1], [0, 0]],\n            [[1, 1], [1, 2], [0, 2], [1, 0], [2, 0]],\n            [[1, 1], [0, 2], [0, 1], [2, 0], [2, 1]],\n            [[1, 1], [1, 2], [0, 0], [1, 0], [2, 2]]\n        ],\n        \"dimensions\": [3, 3],\n        \"parts\": 5\n    }, {\n        \"name\": \"o\",\n        \"type\": 5,\n        \"faces\": [\n            [[0, 0], [1, 0], [0, 1], [1, 1]]\n        ],\n        \"dimensions\": [2, 2],\n        \"parts\": 4\n    }\n];\n","[\n    {\n        \"name\": \"b\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"c\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"f\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 3\n        }\n    },\n    {\n        \"name\": \"i\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 9,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"n\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 6\n        }\n    },\n    {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"v\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"w\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"y\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 9,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"z\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 5\n        }\n    }\n]\n","[\n    {\n        \"name\": \"b\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"c\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"f\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 3\n        }\n    },\n    {\n        \"name\": \"i\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 8,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"n\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 6\n        }\n    },\n    {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 5,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"v\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"w\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"y\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 8,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"z\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 5\n        }\n    }\n]\n","[\n    {\n        \"name\": \"b\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"c\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 0,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"f\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": -1,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"i\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": -1,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 5,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"n\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 0,\n            \"y\": 7\n        }\n    },\n    {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"v\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 6\n        }\n    },\n    {\n        \"name\": \"w\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 2\n        }\n    },\n    {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 0,\n            \"y\": 2\n        }\n    },\n    {\n        \"name\": \"y\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 5,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"z\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": -1,\n            \"y\": 6\n        }\n    }\n]\n","squareStart = [\n    {\n        \"name\": \"b\",\n        \"face\": 7,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"c\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 5\n        }\n    }, {\n        \"name\": \"f\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 1\n        }\n    }, {\n        \"name\": \"i\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 9\n        }\n    }, {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 5,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"n\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 2,\n            \"y\": 7\n        }\n    }, {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 7\n        }\n    }, {\n        \"name\": \"v\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 3\n        }\n    }, {\n        \"name\": \"w\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 0\n        }\n    }, {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 4,\n            \"y\": 3\n        }\n    }, {\n        \"name\": \"y\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 5\n        }\n    }, {\n        \"name\": \"z\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 1,\n            \"y\": 4\n        }\n    }, {\n        \"name\": \"o\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 3,\n            \"y\": 10\n        }\n    }\n];\n","[\n    {\n        \"name\" : \"b\",\n        \"face\" : 7,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"c\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"f\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 1\n        }\n    },{\n        \"name\" : \"i\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 9\n        }\n    },{\n        \"name\" : \"l\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 9,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"n\",\n        \"face\" : 4,\n        \"position\" : {\n            \"x\" : 6,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"t\",\n        \"face\" : 1,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 7\n        }\n    },{\n        \"name\" : \"v\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"w\",\n        \"face\" : 2,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 0\n        }\n    },{\n        \"name\" : \"x\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 8,\n            \"y\" : 3\n        }\n    },{\n        \"name\" : \"y\",\n        \"face\" : 6,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 5\n        }\n    },{\n        \"name\" : \"z\",\n        \"face\" : 3,\n        \"position\" : {\n            \"x\" : 5,\n            \"y\" : 4\n        }\n    },{\n        \"name\" : \"o\",\n        \"face\" : 0,\n        \"position\" : {\n            \"x\" : 7,\n            \"y\" : 10\n        }\n    }\n]\n","[\n    {\n        \"name\": \"b\",\n        \"face\": 4,\n        \"position\": {\n            \"x\": 10,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"c\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"f\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 3\n        }\n    },\n    {\n        \"name\": \"i\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"l\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 12,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"n\",\n        \"face\": 6,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 6\n        }\n    },\n    {\n        \"name\": \"t\",\n        \"face\": 1,\n        \"position\": {\n            \"x\": 9,\n            \"y\": 4\n        }\n    },\n    {\n        \"name\": \"v\",\n        \"face\": 3,\n        \"position\": {\n            \"x\": 10,\n            \"y\": 5\n        }\n    },\n    {\n        \"name\": \"w\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 10,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"x\",\n        \"face\": 0,\n        \"position\": {\n            \"x\": 7,\n            \"y\": 1\n        }\n    },\n    {\n        \"name\": \"y\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 12,\n            \"y\": 0\n        }\n    },\n    {\n        \"name\": \"z\",\n        \"face\": 2,\n        \"position\": {\n            \"x\": 6,\n            \"y\": 5\n        }\n    }\n]\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\n\n@inject(BoardService)\n\nexport class BoardCustomElement {\n\n    constructor(boardService) {\n        this.bs = boardService;\n    }\n\n    getBoardSizeCSS(shape) {\n        let boardType = this.bs.boardTypes[shape];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n            height: boardType.h * this.bs.partSize + 'px'\n        };\n        return css;\n    }\n\n    getBoardClasses(newSolution) {\n        let classes = ['board'];\n        let solvedClass = (newSolution) ? 'solved' : '';\n        classes.push(solvedClass);\n        return classes.join(' ');\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport {\n    EventAggregator\n} from 'aurelia-event-aggregator';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { BoardService } from '../services/board-service';\nimport { SettingService } from '../services/setting-service';\nimport { PentominoService } from '../services/pentomino-service';\nimport { SolutionService } from '../services/solution-service';\n\n@inject(BindingSignaler, BoardService, EventAggregator, SettingService, PentominoService, SolutionService)\n\nexport class ControlsCustomElement {\n\n    constructor(bindingSignaler, boardService, eventAggregator, settingService, pentominoService, solutionService) {\n        this.ea = eventAggregator;\n        this.bnds = bindingSignaler;\n        this.bs = boardService;\n        this.ss = settingService;\n        this.ps = pentominoService;\n        this.sls = solutionService;\n        this.solutionCount = this.sls.solutions[this.sls.boardType].length;\n        this.disabledButtons = false;\n        this.ea.subscribe('solving', response => {\n            this.disabledButtons = response;\n        });\n    }\n\n    getIndicatorClass() {\n        let classes = ['indicator', 'rounded'];\n        let solvedClass = (this.bs.solved && !this.bs.newSolution) ? 'solved' : '';\n        classes.push(solvedClass);\n        return classes.join(' ');\n    }\n\n    getIndicatorText(currentSolution, solutionCount) {\n        let current = (currentSolution >= 0) ? 'Solution&nbsp;&nbsp;' + (currentSolution + 1) + ' / ' : 'Solutions: ';\n        let text = current + solutionCount;\n        return text;\n    }\n\n    showSolutions(count) {\n        return count > 0;\n    }\n\n    showSolution() {\n        let pentominos = this.ps.pentominos;\n        let solutionString = this.sls.solutions[this.bs.boardType][this.sls.currentSolution];\n        let splitString = solutionString.substr(1).split('#');\n        for (let i = 0; i < splitString.length; i++) {\n            let pentomino = this.ps.pentominos[i];\n            let props = splitString[i].split('_');\n            pentomino.face = parseInt(props[1], 10);\n            pentomino.position.x = parseInt(props[2], 10);\n            pentomino.position.y = parseInt(props[3], 10);\n        }\n        this.bnds.signal('position-signal');\n        this.ps.registerPieces();\n        this.bs.unsetNewSolution();\n    }\n\n    disableNextButton(current, count) {\n        return (current + 1 == count) || this.disabledButtons;\n    }\n\n    disablePreviousButton(current) {\n        return (current == 0) || this.disabledButtons;\n    }\n\n    showFirstSolution() {\n        this.sls.currentSolution = 0;\n        this.showSolution();\n    }\n\n    showPreviousSolution() {\n        if (this.sls.currentSolution > 0) {\n            this.sls.currentSolution--;\n            this.showSolution();\n        }\n    }\n\n    showNextSolution() {\n        if (!this.disableNextButton(this.sls.currentSolution, this.sls.solutions[this.bs.boardType].length)) {\n            this.sls.currentSolution++;\n            this.showSolution();\n        }\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BoardService } from '../services/board-service';\nimport { EventAggregator } from 'aurelia-event-aggregator';\n\n@inject(BoardService, EventAggregator)\nexport class HeaderCustomElement {\n\n    constructor(boardService, eventAggregator) {\n        this.bs = boardService;\n        this.ea = eventAggregator;\n        this.title = 'Pentomino';\n        this.moves = 0;\n        this.ea.subscribe('move', (result) => {\n            (result > 0) ? this.moves++ : this.moves = 0;\n        });\n    }\n\n    getHeaderSizeCss(shape) {\n        let boardType = this.bs.boardTypes[shape];\n        let css = {\n            width: boardType.w * this.bs.partSize + 'px',\n        }\n        return css;\n    }\n\n    resetMoves() {\n        this.ea.publish('move', 0);\n    }\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { BoardService } from '../services/board-service';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { SolutionService } from '../services/solution-service';\nimport { PentominoService } from '../services/pentomino-service';\nimport { PermutationService } from '../services/permutation-service';\nimport { SettingService } from '../services/setting-service';\n\n@inject(BindingSignaler, BoardService, EventAggregator, SolutionService, PentominoService, PermutationService, SettingService)\n\nexport class MenuCustomElement {\n\n    constructor(bindingSignaler, boardService, eventAggregator, solutionService, pentominoService, permutationService, settingService) {\n        this.bnds = bindingSignaler;\n        this.bs = boardService;\n        this.ea = eventAggregator;\n        this.sls = solutionService;\n        this.ps = pentominoService;\n        this.prms = permutationService;\n        this.ss = settingService;\n        this.boardTypes = Object.keys(this.bs.boardTypes);\n        this.settings = {\n            menuVisible: false,\n            submenuBoardsVisible: false,\n        };\n    }\n\n    rotateBoard() {\n        this.prms.rotateBoard(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal');\n    }\n\n    flipBoardYAxis() {\n        this.prms.flipBoardYAxis(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal');\n    }\n\n    showTheMenu() {\n        this.settings.menuVisible = true;\n        this.settings.submenuBoardsVisible = false;\n    }\n\n    mixBoard() {\n        this.prms.mixBoard(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.settings.menuVisible = false;\n        this.bnds.signal('position-signal');\n        this.ea.publish('move', 0);\n    }\n\n    hideTheMenu() {\n        this.settings.menuVisible = false;\n    }\n\n    showThisBoard(key) {\n        // let threshold = 3;\n        // if (this.sls.solutions) {\n        //     switch (key) {\n        //         case 'square':\n        //             return true;\n        //         case 'rectangle':\n        //             return this.sls.solutions['square'].length > threshold;\n        //         case 'beam':\n        //             return this.sls.solutions['rectangle'].length > threshold;\n        //         case 'stick':\n        //             return this.sls.solutions['beam'].length > threshold;\n        //         case 'twig':\n        //             return this.sls.solutions['stick'].length > threshold;\n        //         default:\n        //             return false;\n        //     }\n        // }\n        return true;\n    }\n\n    toggleSubmenuBoards() {\n        this.settings.submenuBoardsVisible = !this.settings.submenuBoardsVisible;\n        return false;\n    }\n\n    getBoardDimensions(boardType) {\n        let text = ('' + this.bs.boardTypes[boardType].w + '&nbsp;&times;&nbsp;' + this.bs.boardTypes[boardType].h);\n        return text;\n    }\n\n    getActiveBoardClass(boardType) {\n        return (this.bs.boardType == boardType) ? 'active' : '';\n    }\n\n    screenIsLargeEnough() {\n        let clw = document.querySelectorAll('html')[0].clientWidth;\n        let clh = document.querySelectorAll('html')[0].clientHeight;\n        return clw + clh > 1100;\n    }\n\n    getStartPosition(shape) {\n        this.ps.getStartPosition(shape);\n        this.ps.registerPieces();\n        this.bs.unsetSolved();\n        this.bs.unsetNewSolution();\n        this.settings.submenuBoardsVisible = false;\n        this.settings.menuVisible = false;\n    }\n\n    workersSupported() {\n        if (window.Worker) {\n            return true;\n        }\n        return false;\n    }\n\n    showSolvingPanel() {\n        this.ea.publish('showSolvingPanel', true);\n        this.settings.menuVisible = false;\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { PentominoService } from '../services/pentomino-service';\nimport { SettingService } from '../services/setting-service';\nimport { DragService } from '../services/drag-service';\n\n@inject(PentominoService, SettingService, DragService)\nexport class PentominosCustomElement {\n\n    constructor(pentominoService, settingService, dragService) {\n        this.ps = pentominoService;\n        this.ss = settingService;\n        this.ds = dragService;\n    }\n\n    getPentominoClasses(pentomino) {\n        let classes = ['pentomino'];\n        classes.push('pentomino block_' + pentomino.name);\n        if (pentomino.active) {\n            classes.push('active');\n        }\n        return classes.join(' ');\n    }\n\n    getPartClasses(pentomino, partIndex, face) {\n        let classes = ['fa', 'part'];\n        // C and T blocks don't need mirrorring around symmetric direction\n        let flipH = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] > pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 0);\n        let flipV = !(pentomino.index === 1 &&\n            pentomino.dimensions[0] < pentomino.dimensions[1] ||\n            pentomino.index === 6 &&\n            pentomino.face % 2 === 1);\n        if (partIndex === 0 && pentomino.type < 5) {\n            classes.push('fa-refresh');\n            classes.push('rotate');\n        }\n        if (partIndex === 1 && pentomino.type < 4 && flipH) {\n            classes.push('fa-arrows-h');\n            classes.push('flipH');\n        }\n        if (partIndex === 2 && pentomino.type < 4 && flipV) {\n            classes.push('fa-arrows-v');\n            classes.push('flipV');\n        }\n        return classes.join(' ');\n    }\n\n    getPentominoCSS(x, y, color) {\n        let css = {\n            left: x * this.ss.partSize + 'px',\n            top: y * this.ss.partSize + 'px',\n            backgroundColor: color\n        };\n        return css;\n    }\n\n    getPartCSS(part) {\n        let css = {\n            'left': part[0] * this.ss.partSize + 'px',\n            'top': part[1] * this.ss.partSize + 'px'\n        };\n        return css;\n    }\n\n    attached() {\n    }\n\n}\n","import {\n    inject,\n    bindable\n} from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { BoardService } from '../services/board-service';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { PentominoService } from '../services/pentomino-service';\nimport { PermutationService } from '../services/permutation-service';\nimport { SolutionService } from '../services/solution-service';\n\n@inject(BindingSignaler, BoardService, EventAggregator, PentominoService, PermutationService, SolutionService)\nexport class SolvingCustomElement {\n\n    constructor(bindingSignaler, boardService, eventAggregator, pentominoService, permutationService, solutionService) {\n        this.ea = eventAggregator;\n        this.bnds = bindingSignaler;\n        this.bs = boardService;\n        this.ps = pentominoService;\n        this.sls = solutionService;\n        this.prms = permutationService;\n        this.solvingPanelVisible = false;\n        this.backupPentominos = this.ps.pentominos.slice();\n        this.slvrWrkr = null;\n        this.canStop = false;\n        this.positionsTried = 0;\n        this.ea.subscribe('showSolvingPanel', response => {\n            this.solvingPanelVisible = response;\n        });\n\n    }\n\n    autoSolve() {\n        this.slvrWrkr = new Worker('./src/services/solver-worker.js');\n        this.canStop = true;\n        this.boardWidth = this.bs.getWidth();\n        this.boardHeight = this.bs.getHeight();\n        this.startPosXBlock = 0;\n        this.positionsTried = 0;\n        let workerData = {\n            message: 'solve',\n            boardType: this.bs.boardType,\n            boardWidth: this.bs.getWidth(),\n            boardHeight: this.bs.getHeight(),\n            offBoards: this.ps.setPentominosOffboard(),\n            fields: this.ps.getFields(),\n            onBoards: this.ps.pentominos\n        };\n\n        this.ea.publish('solving', true);\n        this.slvrWrkr.postMessage(workerData);\n\n        this.slvrWrkr.onmessage = (e) => {\n            let pentominos = this.ps.sortPentominos(e.data.onBoards);\n            let offBoards = e.data.offBoards;\n            let message = e.data.message;\n            this.positionsTried = e.data.positions;\n            switch (message) {\n                case 'draw':\n                    this.ps.setPentominos(pentominos);\n                    break;\n                case 'solution':\n                    this.ps.setPentominos(pentominos);\n                    this.sls.saveSolution(pentominos);\n                    break;\n                case 'finish':\n                    this.ps.setPentominos(pentominos);\n                    this.canStop = false;\n                    this.ea.publish('solving', false);\n                    console.log('No more solutions found!');\n                    break;\n                default:\n                    this.ps.setPentominos(pentominos);\n                    this.ps.setAllOnboard(pentominos, offBoards);\n                    break;\n            }\n        };\n    }\n\n    mixBoard() {\n        this.prms.mixBoard(this.ps.pentominos);\n        this.ps.registerPieces();\n        this.bnds.signal('position-signal');\n    }\n\n    close() {\n        this.solvingPanelVisible = false;\n    }\n\n    stop() {\n        this.canStop = false;\n        this.ea.publish('solving', false);\n        this.slvrWrkr.terminate();\n        this.ps.setPentominos(this.backupPentominos);\n    }\n}\n","export class PartPosValueConverter {\n    toView(css, config) {\n        css = {\n            left: config.x * config.partSize + 'px',\n            top: config.y * config.partSize + 'px'\n        };\n        return css;\n    }\n}","export class PentoFaceValueConverter {\n    toView(array, config) {\n        array = config.faces[config.face];\n        return array;\n    }\n}","export class PentoPosValueConverter {\n    toView(css, config) {\n        css = {\n            left: config.x * config.partSize + 'px',\n            top: config.y * config.partSize + 'px',\n            backgroundColor: config.color\n        };\n        return css;\n    }\n}"],"sourceRoot":"../src"}