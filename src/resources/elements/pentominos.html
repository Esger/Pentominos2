<template class="pentominosWrapper">
    <div repeat.for="pentomino of ps.pentominos"
         class="pentomino block_${pentomino.name} ${pentomino.active ? 'active' : ''}"
         css.bind="{left: pentomino.position.x * ss.partSize + 'px', top: pentomino.position.y * ss.partSize + 'px', backgroundColor: pentomino.color}">
        <div class="relContainer inheritBgColor">
            <!-- C and T blocks don't need mirrorring around symmetric axis -->
            <let flip-h.bind="!(
                pentomino.index == 1 && pentomino.face % 2 == 0 ||
                pentomino.index == 6 && pentomino.face % 2 == 0)"></let>
            <let flip-v.bind="!(
                pentomino.index === 1 && pentomino.face % 2 === 1 ||
                pentomino.index === 6 && pentomino.face % 2 === 1)"></let>
            <div repeat.for="part of pentomino.faces[pentomino.face]"
                 class="fa part ${!isSolving && $index === 0 && pentomino.type < 5 ? 'fa-refresh rotate' : ''}
                 ${!isSolving && $index === 1 && pentomino.type < 4 && flipH ? 'fa-arrows-h flipH' : ''}
                 ${!isSolving && $index === 2 && pentomino.type < 4 && flipV ? 'fa-arrows-v flipV' : ''}"
                 css.bind="{left: part[0] * ss.partSize + 'px', top: part[1] * ss.partSize + 'px'}"
                 mousedown.delegate="ds.startDrag(pentomino, $index, $event)"
                 touchstart.delegate="ds.startDrag(pentomino, $index, $event)">
            </div>
        </div>
    </div>
</template>
